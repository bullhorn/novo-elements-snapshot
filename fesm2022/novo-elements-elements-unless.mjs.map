{"version":3,"file":"novo-elements-elements-unless.mjs","sources":["../../../projects/novo-elements/src/elements/unless/Unless.ts","../../../projects/novo-elements/src/elements/unless/Unless.module.ts","../../../projects/novo-elements/src/elements/unless/novo-elements-elements-unless.ts"],"sourcesContent":["// NG2\nimport { Directive, Input, TemplateRef, ViewContainerRef } from '@angular/core';\n// App\nimport { Security } from 'novo-elements/services';\n\n@Directive({\n  selector: '[bhUnless]',\n})\nexport class Unless {\n  permissions: string = '';\n  isDisplayed: boolean = false;\n\n  constructor(public templateRef: TemplateRef<any>, public viewContainer: ViewContainerRef, public security: Security) {\n    this.security.subscribe(this.check.bind(this));\n  }\n\n  @Input()\n  set bhUnless(value: string) {\n    this.permissions = value || '';\n    this.check();\n  }\n\n  check(): void {\n    let display: boolean = false;\n    if (~this.permissions.indexOf('||')) {\n      const ps: any = this.permissions.split('||');\n      for (const p of ps) {\n        if (this.security.has(p.trim())) {\n          display = true;\n        }\n      }\n    } else {\n      display = this.permissions.split('&&').every((p) => this.security.has(p.trim()));\n    }\n\n    if (display) {\n      if (!this.isDisplayed) {\n        this.isDisplayed = true;\n        this.viewContainer.createEmbeddedView(this.templateRef);\n      }\n    } else {\n      this.isDisplayed = false;\n      this.viewContainer.clear();\n    }\n  }\n}\n","// NG2\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n// APP\nimport { Unless } from './Unless';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [Unless],\n  exports: [Unless],\n})\nexport class UnlessModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;AAAA;MAQa,MAAM,CAAA;AAIjB,IAAA,WAAA,CAAmB,WAA6B,EAAS,aAA+B,EAAS,QAAkB,EAAA;QAAhG,IAAW,CAAA,WAAA,GAAX,WAAW,CAAkB;QAAS,IAAa,CAAA,aAAA,GAAb,aAAa,CAAkB;QAAS,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAU;QAHnH,IAAW,CAAA,WAAA,GAAW,EAAE,CAAC;QACzB,IAAW,CAAA,WAAA,GAAY,KAAK,CAAC;AAG3B,QAAA,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KAChD;IAED,IACI,QAAQ,CAAC,KAAa,EAAA;AACxB,QAAA,IAAI,CAAC,WAAW,GAAG,KAAK,IAAI,EAAE,CAAC;QAC/B,IAAI,CAAC,KAAK,EAAE,CAAC;KACd;IAED,KAAK,GAAA;QACH,IAAI,OAAO,GAAY,KAAK,CAAC;QAC7B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACnC,MAAM,EAAE,GAAQ,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AAC7C,YAAA,KAAK,MAAM,CAAC,IAAI,EAAE,EAAE;AAClB,gBAAA,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE;oBAC/B,OAAO,GAAG,IAAI,CAAC;iBAChB;aACF;SACF;aAAM;AACL,YAAA,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;SAClF;QAED,IAAI,OAAO,EAAE;AACX,YAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,gBAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBACxB,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACzD;SACF;aAAM;AACL,YAAA,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;AACzB,YAAA,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;SAC5B;KACF;8GApCU,MAAM,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,WAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,QAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;kGAAN,MAAM,EAAA,QAAA,EAAA,YAAA,EAAA,MAAA,EAAA,EAAA,QAAA,EAAA,UAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA,EAAA;;2FAAN,MAAM,EAAA,UAAA,EAAA,CAAA;kBAHlB,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACT,oBAAA,QAAQ,EAAE,YAAY;AACvB,iBAAA,CAAA;sIAUK,QAAQ,EAAA,CAAA;sBADX,KAAK;;;AChBR;MAWa,YAAY,CAAA;8GAAZ,YAAY,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA,EAAA;AAAZ,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,YAAY,EAHR,YAAA,EAAA,CAAA,MAAM,CADX,EAAA,OAAA,EAAA,CAAA,YAAY,aAEZ,MAAM,CAAA,EAAA,CAAA,CAAA,EAAA;AAEL,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,YAAY,YAJb,YAAY,CAAA,EAAA,CAAA,CAAA,EAAA;;2FAIX,YAAY,EAAA,UAAA,EAAA,CAAA;kBALxB,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;oBACR,OAAO,EAAE,CAAC,YAAY,CAAC;oBACvB,YAAY,EAAE,CAAC,MAAM,CAAC;oBACtB,OAAO,EAAE,CAAC,MAAM,CAAC;AAClB,iBAAA,CAAA;;;ACVD;;AAEG;;;;"}