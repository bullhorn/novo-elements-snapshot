{"version":3,"file":"novo-elements-components-tip-well.mjs","sources":["../../../projects/elements/components/tip-well/tip-well.ts","../../../projects/elements/components/tip-well/tip-well.module.ts","../../../projects/elements/components/tip-well/novo-elements-components-tip-well.ts"],"sourcesContent":["// NG2\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\nimport { NovoLabelService } from 'novo-elements/services';\n\n@Component({\n  selector: 'novo-tip-well',\n  styleUrls: ['./tip-well.scss'],\n  template: `\n    <div *ngIf=\"isActive\">\n      <div>\n        <i class=\"bhi-{{ icon }}\" *ngIf=\"icon\" [attr.data-automation-id]=\"'novo-tip-well-icon-' + name\"></i>\n        <ng-content select=\"novo-icon\"></ng-content>\n        <p *ngIf=\"sanitize && tip.length\" [attr.data-automation-id]=\"'novo-tip-well-tip-' + name\">{{ tip }}</p>\n        <p *ngIf=\"!sanitize && tipWithStyles\" [attr.data-automation-id]=\"'novo-tip-well-tip-' + name\" [innerHTML]=\"tipWithStyles\"></p>\n        <p [attr.data-automation-id]=\"'novo-tip-well-tip-' + name\"><ng-content></ng-content></p>\n      </div>\n      <button theme=\"dialogue\" size=\"small\" (click)=\"hideTip()\" *ngIf=\"button\" [attr.data-automation-id]=\"'novo-tip-well-button-' + name\">\n        {{ buttonText }}\n      </button>\n    </div>\n  `,\n  host: {\n    '[class.active]': 'isActive',\n  },\n})\nexport class NovoTipWellElement implements OnInit {\n  @Input()\n  name: string | number;\n  @Input()\n  tip: string;\n  @Input()\n  buttonText: string;\n  @Input()\n  button: boolean = true;\n  @Input()\n  icon: string;\n  @Input()\n  sanitize: boolean = true;\n  @Output()\n  confirmed = new EventEmitter();\n\n  isActive: boolean = true;\n  isLocalStorageEnabled: any;\n  localStorageKey: string;\n\n  private _tipWithStyles: SafeHtml;\n  private _lastTipStyled: string;\n\n  constructor(private labels: NovoLabelService, private sanitizer: DomSanitizer) {\n    this.isActive = true;\n    // Check if localStorage is enabled\n    this.isLocalStorageEnabled = (() => {\n      let isEnabled = false;\n      if (typeof localStorage === 'object') {\n        try {\n          localStorage.setItem('lsTest', '1');\n          localStorage.removeItem('lsTest');\n          isEnabled = true;\n        } catch (e) {\n          console.warn(\n            'This web browser does not support storing settings locally. In Safari, the most common cause of this is using \"Private Browsing Mode\". Some settings may not save or some features may not work properly for you.',\n          );\n        }\n      }\n      return isEnabled;\n    })();\n  }\n\n  // Trusts the HTML in order to show CSS styles\n  get tipWithStyles(): SafeHtml {\n    if (!this._tipWithStyles || this._lastTipStyled !== this.tip) {\n      this._tipWithStyles = this.sanitizer.bypassSecurityTrustHtml(this.tip);\n      this._lastTipStyled = this.tip;\n    }\n    return this._tipWithStyles;\n  }\n\n  ngOnInit() {\n    this.tip = this.tip || '';\n    this.buttonText = this.buttonText || this.labels.okGotIt;\n    this.button = typeof this.button === 'string' ? this.button === 'true' : this.button;\n    this.icon = this.icon || null;\n    // Set a (semi) unique name for the tip-well\n    this.name = this.name || Math.round(Math.random() * 100);\n    this.localStorageKey = `novo-tw_${this.name}`;\n    // Check localStorage for state\n    if (this.isLocalStorageEnabled) {\n      const storedValue = JSON.parse(localStorage.getItem(this.localStorageKey));\n      this.isActive = storedValue !== false;\n    }\n  }\n\n  hideTip() {\n    if (this.isLocalStorageEnabled) {\n      localStorage.setItem(this.localStorageKey, JSON.stringify(false));\n    }\n    this.isActive = false;\n    this.confirmed.emit();\n  }\n}\n","// NG2\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NovoTipWellElement } from './tip-well';\nimport { NovoButtonModule } from 'novo-elements/components/button';\n\n@NgModule({\n  imports: [CommonModule, NovoButtonModule],\n  declarations: [NovoTipWellElement],\n  exports: [NovoTipWellElement],\n})\nexport class NovoTipWellModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}