var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
import { coerceBooleanProperty } from '@angular/cdk/coercion';
import { hasModifierKey } from '@angular/cdk/keycodes';
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Directive, ElementRef, EventEmitter, Inject, Input, Optional, Output, } from '@angular/core';
import { BooleanInput } from 'novo-elements/utils';
import { fromEvent, Subject } from 'rxjs';
import { NovoOptgroup, NovoOptgroupBase, NOVO_OPTGROUP } from './optgroup.component';
import { NOVO_OPTION_PARENT_COMPONENT } from './option-parent';
import * as i0 from "@angular/core";
import * as i1 from "./optgroup.component";
import * as i2 from "../selection/pseudo-checkbox/pseudo-checkbox.component";
import * as i3 from "@angular/common";
/**
 * Option IDs need to be unique across components, so this counter exists outside of
 * the component definition.
 */
let _uniqueIdCounter = 0;
/** Event object emitted by NovoOption when selected or deselected. */
export class NovoOptionSelectionChange {
    constructor(
    /** Reference to the option that emitted the event. */
    source, 
    /** Whether the change in the option's value was a result of a user action. */
    isUserInput = false) {
        this.source = source;
        this.isUserInput = isUserInput;
    }
}
export class NovoOptionBase {
    constructor(_element, _changeDetectorRef, _parent, group) {
        this._element = _element;
        this._changeDetectorRef = _changeDetectorRef;
        this._parent = _parent;
        this.group = group;
        this._selected = false;
        this._active = false;
        this._disabled = false;
        this._mostRecentViewValue = '';
        /** TODO: deprecate maybe, check support for table headers */
        this.keepOpen = false;
        this.novoInert = false;
        /** The unique ID of the option. */
        this.id = `novo-option-${_uniqueIdCounter++}`;
        /** Event emitted when the option is selected or deselected. */
        // tslint:disable-next-line:no-output-on-prefix
        this.onSelectionChange = new EventEmitter();
        /** Emits when the state of the option changes and any parents have to be notified. */
        this._stateChanges = new Subject();
        // (click) is overridden when defined by user.
        this._clickCapture = fromEvent(this._element.nativeElement, 'click', { capture: true }).subscribe((evt) => {
            this._handleDisabledClick(evt);
        });
        this._clickPassive = fromEvent(this._element.nativeElement, 'click').subscribe((evt) => {
            setTimeout(() => this._handlePassiveClick(evt));
        });
    }
    /** If there is no parent then nothing is managing the selection. */
    get selectable() {
        return this._parent;
    }
    /** Whether the wrapping component is in multiple selection mode. */
    get multiple() {
        return this._parent && this._parent.multiple;
    }
    /** Whether the option is disabled. */
    get disabled() {
        return (this.group && this.group.disabled) || this._disabled;
    }
    set disabled(value) {
        this._disabled = coerceBooleanProperty(value);
    }
    get selected() {
        return this._selected;
    }
    set selected(value) {
        this._selected = coerceBooleanProperty(value);
    }
    /**
     * Whether or not the option is currently active and ready to be selected.
     * An active option displays styles as if it is focused, but the
     * focus is actually retained somewhere else. This comes in handy
     * for components like autocomplete where focus must remain on the input.
     */
    get active() {
        return this._active;
    }
    /**
     * The displayed value of the option. It is necessary to show the selected option in the
     * select's trigger.
     */
    get viewValue() {
        return (this._getHostElement().textContent || '').trim();
    }
    /** Selects the option. */
    select() {
        if (!this._selected) {
            this._selected = true;
            this._changeDetectorRef.markForCheck();
            // this._emitSelectionChangeEvent();
        }
    }
    /** Deselects the option. */
    deselect() {
        if (this._selected) {
            this._selected = false;
            this._changeDetectorRef.markForCheck();
            // this._emitSelectionChangeEvent();
        }
    }
    /** Sets focus onto this option. */
    focus(_origin, options) {
        // Note that we aren't using `_origin`, but we need to keep it because some internal consumers
        // use `NovoOption` in a `FocusKeyManager` and we need it to match `FocusableOption`.
        const element = this._getHostElement();
        if (typeof element.focus === 'function') {
            element.focus(options);
        }
    }
    /**
     * This method sets display styles on the option to make it appear
     * active. This is used by the ActiveDescendantKeyManager so key
     * events will display the proper options as active on arrow key events.
     */
    setActiveStyles() {
        if (!this._active) {
            this._active = true;
            this._changeDetectorRef.markForCheck();
        }
    }
    /**
     * This method removes display styles on the option that made it appear
     * active. This is used by the ActiveDescendantKeyManager so key
     * events will display the proper options as active on arrow key events.
     */
    setInactiveStyles() {
        if (this._active) {
            this._active = false;
            this._changeDetectorRef.markForCheck();
        }
    }
    /** Gets the label to be used when determining whether the option should be focused. */
    getLabel() {
        return this.viewValue;
    }
    _handleDisabledClick(event) {
        if (this.disabled) {
            event.preventDefault();
            event.stopPropagation();
            event.stopImmediatePropagation();
        }
    }
    _handlePassiveClick(event) {
        if (!this.novoInert) {
            this._selectViaInteraction();
        }
    }
    /** Ensures the option is selected when activated from the keyboard. */
    _handleKeydown(event) {
        if (event.target instanceof HTMLInputElement && event.key === "Enter" /* Enter */) {
            this._emitSelectionChangeEvent(!this.keepOpen);
        }
        else if (!(event.target instanceof HTMLInputElement) &&
            (event.key === "Enter" /* Enter */ || event.key === " " /* Space */) &&
            !hasModifierKey(event)) {
            this._selectViaInteraction();
            // Prevent the page from scrolling down and form submits.
            event.preventDefault();
        }
    }
    /**
     * `Selects the option while indicating the selection came from the user. Used to
     * determine if the select's view -> model callback should be invoked.`
     */
    _selectViaInteraction() {
        if (!this.disabled) {
            this._selected = this.multiple ? !this._selected : true;
            this._changeDetectorRef.markForCheck();
            this._emitSelectionChangeEvent(!this.keepOpen);
        }
    }
    /**
     * Force a click event
     */
    _clickViaInteraction() {
        if (!this.disabled) {
            this._element.nativeElement.click();
        }
    }
    /**
     * Gets the `aria-selected` value for the option. We explicitly omit the `aria-selected`
     * attribute from single-selection, unselected options. Including the `aria-selected="false"`
     * attributes adds a significant amount of noise to screen-reader users without providing useful
     * information.
     */
    _getAriaSelected() {
        return this.selected || (this.multiple ? false : null);
    }
    /** Returns the correct tabindex for the option depending on disabled state. */
    _getTabIndex() {
        return this.disabled ? '-1' : '0';
    }
    /** Gets the host DOM element. */
    _getHostElement() {
        return this._element.nativeElement;
    }
    ngAfterViewChecked() {
        // Since parent components could be using the option's label to display the selected values
        // (e.g. `novo-select`) and they don't have a way of knowing if the option's label has changed
        // we have to check for changes in the DOM ourselves and dispatch an event. These checks are
        // relatively cheap, however we still limit them only to selected options in order to avoid
        // hitting the DOM too often.
        if (this._selected) {
            const viewValue = this.viewValue;
            if (viewValue !== this._mostRecentViewValue) {
                this._mostRecentViewValue = viewValue;
                this._stateChanges.next();
            }
        }
    }
    ngOnDestroy() {
        this._stateChanges.complete();
        this._clickCapture.unsubscribe();
        this._clickPassive.unsubscribe();
    }
    /** Emits the selection change event. */
    _emitSelectionChangeEvent(isUserInput = false) {
        this.onSelectionChange.emit(new NovoOptionSelectionChange(this, isUserInput));
    }
}
NovoOptionBase.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: NovoOptionBase, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: NOVO_OPTION_PARENT_COMPONENT, optional: true }, { token: NOVO_OPTGROUP, optional: true }], target: i0.ɵɵFactoryTarget.Directive });
NovoOptionBase.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "13.3.11", type: NovoOptionBase, inputs: { keepOpen: "keepOpen", novoInert: "novoInert", value: "value", id: "id", disabled: "disabled", selected: "selected" }, outputs: { onSelectionChange: "onSelectionChange" }, ngImport: i0 });
__decorate([
    BooleanInput(),
    __metadata("design:type", Boolean)
], NovoOptionBase.prototype, "keepOpen", void 0);
__decorate([
    BooleanInput(),
    __metadata("design:type", Boolean)
], NovoOptionBase.prototype, "novoInert", void 0);
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: NovoOptionBase, decorators: [{
            type: Directive
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [NOVO_OPTION_PARENT_COMPONENT]
                }] }, { type: i1.NovoOptgroupBase, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [NOVO_OPTGROUP]
                }] }]; }, propDecorators: { keepOpen: [{
                type: Input
            }], novoInert: [{
                type: Input
            }], value: [{
                type: Input
            }], id: [{
                type: Input
            }], disabled: [{
                type: Input
            }], selected: [{
                type: Input
            }], onSelectionChange: [{
                type: Output
            }] } });
/**
 * Single option inside of a `<novo-select>` element.
 */
export class NovoOption extends NovoOptionBase {
    constructor(element, changeDetectorRef, parent, group) {
        super(element, changeDetectorRef, parent, group);
    }
}
NovoOption.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: NovoOption, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: NOVO_OPTION_PARENT_COMPONENT, optional: true }, { token: NOVO_OPTGROUP, optional: true }], target: i0.ɵɵFactoryTarget.Component });
NovoOption.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.11", type: NovoOption, selector: "novo-option", inputs: { selected: "selected", keepOpen: "keepOpen", novoInert: "novoInert", value: "value", disabled: "disabled" }, host: { attributes: { "role": "option" }, listeners: { "keydown": "_handleKeydown($event)" }, properties: { "id": "id", "attr.tabindex": "_getTabIndex()", "attr.aria-selected": "_getAriaSelected()", "attr.aria-disabled": "disabled.toString()", "class.novo-active": "active", "class.novo-selected": "selectable && selected", "class.novo-option-multiple": "multiple", "class.novo-option-disabled": "disabled", "class.novo-option-inert": "novoInert" }, classAttribute: "novo-option novo-focus-indicator" }, exportAs: ["novoOption"], usesInheritance: true, ngImport: i0, template: "<novo-pseudo-checkbox *ngIf=\"selectable && multiple\" class=\"novo-option-pseudo-checkbox\"\n  [state]=\"selected ? 'checked' : 'unchecked'\" [disabled]=\"disabled\"></novo-pseudo-checkbox>\n\n<span class=\"novo-option-text\">\n  <ng-content></ng-content>\n</span>\n\n<novo-pseudo-checkbox *ngIf=\"selectable && !multiple && selected\" class=\"novo-option-pseudo-checkbox\" state=\"checked\"\n  shape=\"line\"\n  [disabled]=\"disabled\"></novo-pseudo-checkbox>\n\n<ng-content select=\"[novoSuffix]\"></ng-content>\n<!-- See a11y notes inside optgroup.ts for context behind this element. -->\n<span class=\"cdk-visually-hidden\" *ngIf=\"group && group._novoInert\">({{ group.label }})</span>", styles: [":host{min-height:var(--option-height);padding:0 var(--option-spacing);gap:var(--option-spacing);display:inline;font-weight:400;color:inherit;font-size:var(--font-size-text);transition:color .2s ease-out,opacity .2s ease-out;vertical-align:middle;position:relative;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;margin:0;cursor:pointer;flex:1;-webkit-tap-highlight-color:transparent}:host.text-capitalize{text-transform:capitalize}:host.text-uppercase{text-transform:uppercase}:host.text-nowrap{white-space:nowrap}:host.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host.text-size-default{font-size:inherit}:host.text-size-body{font-size:var(--font-size-body)}:host.text-size-xs{font-size:var(--font-size-xs)}:host.text-size-sm{font-size:var(--font-size-sm)}:host.text-size-md{font-size:var(--font-size-md)}:host.text-size-lg{font-size:var(--font-size-lg)}:host.text-size-xl{font-size:var(--font-size-xl)}:host.text-size-2xl{font-size:var(--font-size-2xl)}:host.text-size-3xl{font-size:var(--font-size-3xl)}:host.text-size-smaller{font-size:.8em}:host.text-size-larger{font-size:1.2em}:host.text-color-person{color:var(--color-person)}:host.text-color-company{color:var(--color-company)}:host.text-color-candidate{color:var(--color-candidate)}:host.text-color-lead{color:var(--color-lead)}:host.text-color-contact{color:var(--color-contact)}:host.text-color-clientcontact{color:var(--color-clientcontact)}:host.text-color-opportunity{color:var(--color-opportunity)}:host.text-color-job{color:var(--color-job)}:host.text-color-joborder{color:var(--color-joborder)}:host.text-color-submission{color:var(--color-submission)}:host.text-color-sendout{color:var(--color-sendout)}:host.text-color-placement{color:var(--color-placement)}:host.text-color-note{color:var(--color-note)}:host.text-color-task{color:var(--color-task)}:host.text-color-distribution-list{color:var(--color-distribution-list)}:host.text-color-credential{color:var(--color-credential)}:host.text-color-user{color:var(--color-user)}:host.text-color-corporate-user{color:var(--color-corporate-user)}:host.text-color-contract{color:var(--color-contract)}:host.text-color-job-code{color:var(--color-job-code)}:host.text-color-earn-code{color:var(--color-earn-code)}:host.text-color-billable-charge{color:var(--color-billable-charge)}:host.text-color-payable-charge{color:var(--color-payable-charge)}:host.text-color-invoice-statement{color:var(--color-invoice-statement)}:host.text-color-selection{color:var(--color-selection)}:host.text-color-positive{color:var(--color-positive)}:host.text-color-success{color:var(--color-success)}:host.text-color-warning{color:var(--color-warning)}:host.text-color-error{color:var(--color-error)}:host.text-color-info{color:var(--color-info)}:host.text-color-disabled{color:var(--color-disabled)}:host.text-color-red{color:var(--palette-red-50)}:host.text-color-pink{color:var(--palette-pink-50)}:host.text-color-orange{color:var(--palette-orange-50)}:host.text-color-yellow{color:var(--palette-yellow-50)}:host.text-color-green{color:var(--palette-green-50)}:host.text-color-teal{color:var(--palette-teal-50)}:host.text-color-blue{color:var(--palette-blue-50)}:host.text-color-aqua{color:var(--palette-aqua-50)}:host.text-color-indigo{color:var(--palette-indigo-50)}:host.text-color-violet{color:var(--palette-violet-50)}:host.text-color-gray{color:var(--palette-gray-50)}:host.margin-before{margin-top:.4rem}:host.margin-after{margin-bottom:.8rem}:host.text-length-small{max-width:40ch}:host.text-length-medium{max-width:55ch}:host.text-length-large{max-width:70ch}:host.text-weight-hairline{font-weight:100}:host.text-weight-thin{font-weight:200}:host.text-weight-light{font-weight:300}:host.text-weight-normal{font-weight:400}:host.text-weight-medium{font-weight:500}:host.text-weight-semibold{font-weight:600}:host.text-weight-bold{font-weight:700}:host.text-weight-extrabold{font-weight:800}:host.text-weight-heavy{font-weight:900}:host.text-weight-lighter{font-weight:lighter}:host.text-weight-bolder{font-weight:bolder}:host:hover:not(.novo-option-inert){background:var(--color-selection-overlay)}:host:active:not(.novo-option-inert),:host.novo-active:not(.novo-option-inert){background:var(--color-selection-overlay)}:host.novo-selected{color:var(--color-selection)}:host.disabled,:host[aria-disabled=true]{cursor:not-allowed;color:var(--color-disabled)}:host.disabled:hover,:host[aria-disabled=true]:hover{background:var(--color-error-overlay)}:host .novo-option-text{display:inline-block;display:inline-flex;flex-direction:row;align-items:center;flex-grow:1;overflow:hidden;text-overflow:ellipsis;gap:1rem}:host .novo-option-pseudo-checkbox{margin-right:.25rem}[dir=rtl] :host .novo-option-pseudo-checkbox{margin-left:.25rem;margin-right:0}:host.novo-accent-person{border-left:4px solid var(--color-person)}:host.novo-fill-person:not(.novo-option-inert){color:var(--color-person-contrast);background:var(--color-person)}:host.novo-fill-person:not(.novo-option-inert):hover,:host.novo-fill-person:not(.novo-option-inert):focus{background:var(--color-person-tint)}:host.novo-fill-person:not(.novo-option-inert):active{background:var(--color-person-shade)}:host.novo-accent-company{border-left:4px solid var(--color-company)}:host.novo-fill-company:not(.novo-option-inert){color:var(--color-company-contrast);background:var(--color-company)}:host.novo-fill-company:not(.novo-option-inert):hover,:host.novo-fill-company:not(.novo-option-inert):focus{background:var(--color-company-tint)}:host.novo-fill-company:not(.novo-option-inert):active{background:var(--color-company-shade)}:host.novo-accent-candidate{border-left:4px solid var(--color-candidate)}:host.novo-fill-candidate:not(.novo-option-inert){color:var(--color-candidate-contrast);background:var(--color-candidate)}:host.novo-fill-candidate:not(.novo-option-inert):hover,:host.novo-fill-candidate:not(.novo-option-inert):focus{background:var(--color-candidate-tint)}:host.novo-fill-candidate:not(.novo-option-inert):active{background:var(--color-candidate-shade)}:host.novo-accent-lead{border-left:4px solid var(--color-lead)}:host.novo-fill-lead:not(.novo-option-inert){color:var(--color-lead-contrast);background:var(--color-lead)}:host.novo-fill-lead:not(.novo-option-inert):hover,:host.novo-fill-lead:not(.novo-option-inert):focus{background:var(--color-lead-tint)}:host.novo-fill-lead:not(.novo-option-inert):active{background:var(--color-lead-shade)}:host.novo-accent-contact{border-left:4px solid var(--color-contact)}:host.novo-fill-contact:not(.novo-option-inert){color:var(--color-contact-contrast);background:var(--color-contact)}:host.novo-fill-contact:not(.novo-option-inert):hover,:host.novo-fill-contact:not(.novo-option-inert):focus{background:var(--color-contact-tint)}:host.novo-fill-contact:not(.novo-option-inert):active{background:var(--color-contact-shade)}:host.novo-accent-clientcontact{border-left:4px solid var(--color-clientcontact)}:host.novo-fill-clientcontact:not(.novo-option-inert){color:var(--color-clientcontact-contrast);background:var(--color-clientcontact)}:host.novo-fill-clientcontact:not(.novo-option-inert):hover,:host.novo-fill-clientcontact:not(.novo-option-inert):focus{background:var(--color-clientcontact-tint)}:host.novo-fill-clientcontact:not(.novo-option-inert):active{background:var(--color-clientcontact-shade)}:host.novo-accent-opportunity{border-left:4px solid var(--color-opportunity)}:host.novo-fill-opportunity:not(.novo-option-inert){color:var(--color-opportunity-contrast);background:var(--color-opportunity)}:host.novo-fill-opportunity:not(.novo-option-inert):hover,:host.novo-fill-opportunity:not(.novo-option-inert):focus{background:var(--color-opportunity-tint)}:host.novo-fill-opportunity:not(.novo-option-inert):active{background:var(--color-opportunity-shade)}:host.novo-accent-job{border-left:4px solid var(--color-job)}:host.novo-fill-job:not(.novo-option-inert){color:var(--color-job-contrast);background:var(--color-job)}:host.novo-fill-job:not(.novo-option-inert):hover,:host.novo-fill-job:not(.novo-option-inert):focus{background:var(--color-job-tint)}:host.novo-fill-job:not(.novo-option-inert):active{background:var(--color-job-shade)}:host.novo-accent-joborder{border-left:4px solid var(--color-joborder)}:host.novo-fill-joborder:not(.novo-option-inert){color:var(--color-joborder-contrast);background:var(--color-joborder)}:host.novo-fill-joborder:not(.novo-option-inert):hover,:host.novo-fill-joborder:not(.novo-option-inert):focus{background:var(--color-joborder-tint)}:host.novo-fill-joborder:not(.novo-option-inert):active{background:var(--color-joborder-shade)}:host.novo-accent-submission{border-left:4px solid var(--color-submission)}:host.novo-fill-submission:not(.novo-option-inert){color:var(--color-submission-contrast);background:var(--color-submission)}:host.novo-fill-submission:not(.novo-option-inert):hover,:host.novo-fill-submission:not(.novo-option-inert):focus{background:var(--color-submission-tint)}:host.novo-fill-submission:not(.novo-option-inert):active{background:var(--color-submission-shade)}:host.novo-accent-sendout{border-left:4px solid var(--color-sendout)}:host.novo-fill-sendout:not(.novo-option-inert){color:var(--color-sendout-contrast);background:var(--color-sendout)}:host.novo-fill-sendout:not(.novo-option-inert):hover,:host.novo-fill-sendout:not(.novo-option-inert):focus{background:var(--color-sendout-tint)}:host.novo-fill-sendout:not(.novo-option-inert):active{background:var(--color-sendout-shade)}:host.novo-accent-placement{border-left:4px solid var(--color-placement)}:host.novo-fill-placement:not(.novo-option-inert){color:var(--color-placement-contrast);background:var(--color-placement)}:host.novo-fill-placement:not(.novo-option-inert):hover,:host.novo-fill-placement:not(.novo-option-inert):focus{background:var(--color-placement-tint)}:host.novo-fill-placement:not(.novo-option-inert):active{background:var(--color-placement-shade)}:host.novo-accent-note{border-left:4px solid var(--color-note)}:host.novo-fill-note:not(.novo-option-inert){color:var(--color-note-contrast);background:var(--color-note)}:host.novo-fill-note:not(.novo-option-inert):hover,:host.novo-fill-note:not(.novo-option-inert):focus{background:var(--color-note-tint)}:host.novo-fill-note:not(.novo-option-inert):active{background:var(--color-note-shade)}:host.novo-accent-task{border-left:4px solid var(--color-task)}:host.novo-fill-task:not(.novo-option-inert){color:var(--color-task-contrast);background:var(--color-task)}:host.novo-fill-task:not(.novo-option-inert):hover,:host.novo-fill-task:not(.novo-option-inert):focus{background:var(--color-task-tint)}:host.novo-fill-task:not(.novo-option-inert):active{background:var(--color-task-shade)}:host.novo-accent-distribution-list{border-left:4px solid var(--color-distribution-list)}:host.novo-fill-distribution-list:not(.novo-option-inert){color:var(--color-distribution-list-contrast);background:var(--color-distribution-list)}:host.novo-fill-distribution-list:not(.novo-option-inert):hover,:host.novo-fill-distribution-list:not(.novo-option-inert):focus{background:var(--color-distribution-list-tint)}:host.novo-fill-distribution-list:not(.novo-option-inert):active{background:var(--color-distribution-list-shade)}:host.novo-accent-credential{border-left:4px solid var(--color-credential)}:host.novo-fill-credential:not(.novo-option-inert){color:var(--color-credential-contrast);background:var(--color-credential)}:host.novo-fill-credential:not(.novo-option-inert):hover,:host.novo-fill-credential:not(.novo-option-inert):focus{background:var(--color-credential-tint)}:host.novo-fill-credential:not(.novo-option-inert):active{background:var(--color-credential-shade)}:host.novo-accent-user{border-left:4px solid var(--color-user)}:host.novo-fill-user:not(.novo-option-inert){color:var(--color-user-contrast);background:var(--color-user)}:host.novo-fill-user:not(.novo-option-inert):hover,:host.novo-fill-user:not(.novo-option-inert):focus{background:var(--color-user-tint)}:host.novo-fill-user:not(.novo-option-inert):active{background:var(--color-user-shade)}:host.novo-accent-corporate-user{border-left:4px solid var(--color-corporate-user)}:host.novo-fill-corporate-user:not(.novo-option-inert){color:var(--color-corporate-user-contrast);background:var(--color-corporate-user)}:host.novo-fill-corporate-user:not(.novo-option-inert):hover,:host.novo-fill-corporate-user:not(.novo-option-inert):focus{background:var(--color-corporate-user-tint)}:host.novo-fill-corporate-user:not(.novo-option-inert):active{background:var(--color-corporate-user-shade)}:host.novo-accent-contract{border-left:4px solid var(--color-contract)}:host.novo-fill-contract:not(.novo-option-inert){color:var(--color-contract-contrast);background:var(--color-contract)}:host.novo-fill-contract:not(.novo-option-inert):hover,:host.novo-fill-contract:not(.novo-option-inert):focus{background:var(--color-contract-tint)}:host.novo-fill-contract:not(.novo-option-inert):active{background:var(--color-contract-shade)}:host.novo-accent-job-code{border-left:4px solid var(--color-job-code)}:host.novo-fill-job-code:not(.novo-option-inert){color:var(--color-job-code-contrast);background:var(--color-job-code)}:host.novo-fill-job-code:not(.novo-option-inert):hover,:host.novo-fill-job-code:not(.novo-option-inert):focus{background:var(--color-job-code-tint)}:host.novo-fill-job-code:not(.novo-option-inert):active{background:var(--color-job-code-shade)}:host.novo-accent-earn-code{border-left:4px solid var(--color-earn-code)}:host.novo-fill-earn-code:not(.novo-option-inert){color:var(--color-earn-code-contrast);background:var(--color-earn-code)}:host.novo-fill-earn-code:not(.novo-option-inert):hover,:host.novo-fill-earn-code:not(.novo-option-inert):focus{background:var(--color-earn-code-tint)}:host.novo-fill-earn-code:not(.novo-option-inert):active{background:var(--color-earn-code-shade)}:host.novo-accent-billable-charge{border-left:4px solid var(--color-billable-charge)}:host.novo-fill-billable-charge:not(.novo-option-inert){color:var(--color-billable-charge-contrast);background:var(--color-billable-charge)}:host.novo-fill-billable-charge:not(.novo-option-inert):hover,:host.novo-fill-billable-charge:not(.novo-option-inert):focus{background:var(--color-billable-charge-tint)}:host.novo-fill-billable-charge:not(.novo-option-inert):active{background:var(--color-billable-charge-shade)}:host.novo-accent-payable-charge{border-left:4px solid var(--color-payable-charge)}:host.novo-fill-payable-charge:not(.novo-option-inert){color:var(--color-payable-charge-contrast);background:var(--color-payable-charge)}:host.novo-fill-payable-charge:not(.novo-option-inert):hover,:host.novo-fill-payable-charge:not(.novo-option-inert):focus{background:var(--color-payable-charge-tint)}:host.novo-fill-payable-charge:not(.novo-option-inert):active{background:var(--color-payable-charge-shade)}:host.novo-accent-invoice-statement{border-left:4px solid var(--color-invoice-statement)}:host.novo-fill-invoice-statement:not(.novo-option-inert){color:var(--color-invoice-statement-contrast);background:var(--color-invoice-statement)}:host.novo-fill-invoice-statement:not(.novo-option-inert):hover,:host.novo-fill-invoice-statement:not(.novo-option-inert):focus{background:var(--color-invoice-statement-tint)}:host.novo-fill-invoice-statement:not(.novo-option-inert):active{background:var(--color-invoice-statement-shade)}:host.novo-accent-selection{border-left:4px solid var(--color-selection)}:host.novo-fill-selection:not(.novo-option-inert){color:var(--color-selection-contrast);background:var(--color-selection)}:host.novo-fill-selection:not(.novo-option-inert):hover,:host.novo-fill-selection:not(.novo-option-inert):focus{background:var(--color-selection-tint)}:host.novo-fill-selection:not(.novo-option-inert):active{background:var(--color-selection-shade)}:host.novo-accent-positive{border-left:4px solid var(--color-positive)}:host.novo-fill-positive:not(.novo-option-inert){color:var(--color-positive-contrast);background:var(--color-positive)}:host.novo-fill-positive:not(.novo-option-inert):hover,:host.novo-fill-positive:not(.novo-option-inert):focus{background:var(--color-positive-tint)}:host.novo-fill-positive:not(.novo-option-inert):active{background:var(--color-positive-shade)}:host.novo-accent-success{border-left:4px solid var(--color-success)}:host.novo-fill-success:not(.novo-option-inert){color:var(--color-success-contrast);background:var(--color-success)}:host.novo-fill-success:not(.novo-option-inert):hover,:host.novo-fill-success:not(.novo-option-inert):focus{background:var(--color-success-tint)}:host.novo-fill-success:not(.novo-option-inert):active{background:var(--color-success-shade)}:host.novo-accent-warning{border-left:4px solid var(--color-warning)}:host.novo-fill-warning:not(.novo-option-inert){color:var(--color-warning-contrast);background:var(--color-warning)}:host.novo-fill-warning:not(.novo-option-inert):hover,:host.novo-fill-warning:not(.novo-option-inert):focus{background:var(--color-warning-tint)}:host.novo-fill-warning:not(.novo-option-inert):active{background:var(--color-warning-shade)}:host.novo-accent-error{border-left:4px solid var(--color-error)}:host.novo-fill-error:not(.novo-option-inert){color:var(--color-error-contrast);background:var(--color-error)}:host.novo-fill-error:not(.novo-option-inert):hover,:host.novo-fill-error:not(.novo-option-inert):focus{background:var(--color-error-tint)}:host.novo-fill-error:not(.novo-option-inert):active{background:var(--color-error-shade)}:host.novo-accent-info{border-left:4px solid var(--color-info)}:host.novo-fill-info:not(.novo-option-inert){color:var(--color-info-contrast);background:var(--color-info)}:host.novo-fill-info:not(.novo-option-inert):hover,:host.novo-fill-info:not(.novo-option-inert):focus{background:var(--color-info-tint)}:host.novo-fill-info:not(.novo-option-inert):active{background:var(--color-info-shade)}:host.novo-accent-disabled{border-left:4px solid var(--color-disabled)}:host.novo-fill-disabled:not(.novo-option-inert){color:var(--color-disabled-contrast);background:var(--color-disabled)}:host.novo-fill-disabled:not(.novo-option-inert):hover,:host.novo-fill-disabled:not(.novo-option-inert):focus{background:var(--color-disabled-tint)}:host.novo-fill-disabled:not(.novo-option-inert):active{background:var(--color-disabled-shade)}:host.novo-accent-red{border-left:4px solid var(--palette-red-50)}:host.novo-fill-red:not(.novo-option-inert){color:var(--palette-red-50-contrast);background:var(--palette-red-50)}:host.novo-fill-red:not(.novo-option-inert):hover,:host.novo-fill-red:not(.novo-option-inert):focus{background:var(--palette-red-70)}:host.novo-fill-red:not(.novo-option-inert):active{background:var(--palette-red-30)}:host.novo-accent-pink{border-left:4px solid var(--palette-pink-50)}:host.novo-fill-pink:not(.novo-option-inert){color:var(--palette-pink-50-contrast);background:var(--palette-pink-50)}:host.novo-fill-pink:not(.novo-option-inert):hover,:host.novo-fill-pink:not(.novo-option-inert):focus{background:var(--palette-pink-70)}:host.novo-fill-pink:not(.novo-option-inert):active{background:var(--palette-pink-30)}:host.novo-accent-orange{border-left:4px solid var(--palette-orange-50)}:host.novo-fill-orange:not(.novo-option-inert){color:var(--palette-orange-50-contrast);background:var(--palette-orange-50)}:host.novo-fill-orange:not(.novo-option-inert):hover,:host.novo-fill-orange:not(.novo-option-inert):focus{background:var(--palette-orange-70)}:host.novo-fill-orange:not(.novo-option-inert):active{background:var(--palette-orange-30)}:host.novo-accent-yellow{border-left:4px solid var(--palette-yellow-50)}:host.novo-fill-yellow:not(.novo-option-inert){color:var(--palette-yellow-50-contrast);background:var(--palette-yellow-50)}:host.novo-fill-yellow:not(.novo-option-inert):hover,:host.novo-fill-yellow:not(.novo-option-inert):focus{background:var(--palette-yellow-70)}:host.novo-fill-yellow:not(.novo-option-inert):active{background:var(--palette-yellow-30)}:host.novo-accent-green{border-left:4px solid var(--palette-green-50)}:host.novo-fill-green:not(.novo-option-inert){color:var(--palette-green-50-contrast);background:var(--palette-green-50)}:host.novo-fill-green:not(.novo-option-inert):hover,:host.novo-fill-green:not(.novo-option-inert):focus{background:var(--palette-green-70)}:host.novo-fill-green:not(.novo-option-inert):active{background:var(--palette-green-30)}:host.novo-accent-teal{border-left:4px solid var(--palette-teal-50)}:host.novo-fill-teal:not(.novo-option-inert){color:var(--palette-teal-50-contrast);background:var(--palette-teal-50)}:host.novo-fill-teal:not(.novo-option-inert):hover,:host.novo-fill-teal:not(.novo-option-inert):focus{background:var(--palette-teal-70)}:host.novo-fill-teal:not(.novo-option-inert):active{background:var(--palette-teal-30)}:host.novo-accent-blue{border-left:4px solid var(--palette-blue-50)}:host.novo-fill-blue:not(.novo-option-inert){color:var(--palette-blue-50-contrast);background:var(--palette-blue-50)}:host.novo-fill-blue:not(.novo-option-inert):hover,:host.novo-fill-blue:not(.novo-option-inert):focus{background:var(--palette-blue-70)}:host.novo-fill-blue:not(.novo-option-inert):active{background:var(--palette-blue-30)}:host.novo-accent-aqua{border-left:4px solid var(--palette-aqua-50)}:host.novo-fill-aqua:not(.novo-option-inert){color:var(--palette-aqua-50-contrast);background:var(--palette-aqua-50)}:host.novo-fill-aqua:not(.novo-option-inert):hover,:host.novo-fill-aqua:not(.novo-option-inert):focus{background:var(--palette-aqua-70)}:host.novo-fill-aqua:not(.novo-option-inert):active{background:var(--palette-aqua-30)}:host.novo-accent-indigo{border-left:4px solid var(--palette-indigo-50)}:host.novo-fill-indigo:not(.novo-option-inert){color:var(--palette-indigo-50-contrast);background:var(--palette-indigo-50)}:host.novo-fill-indigo:not(.novo-option-inert):hover,:host.novo-fill-indigo:not(.novo-option-inert):focus{background:var(--palette-indigo-70)}:host.novo-fill-indigo:not(.novo-option-inert):active{background:var(--palette-indigo-30)}:host.novo-accent-violet{border-left:4px solid var(--palette-violet-50)}:host.novo-fill-violet:not(.novo-option-inert){color:var(--palette-violet-50-contrast);background:var(--palette-violet-50)}:host.novo-fill-violet:not(.novo-option-inert):hover,:host.novo-fill-violet:not(.novo-option-inert):focus{background:var(--palette-violet-70)}:host.novo-fill-violet:not(.novo-option-inert):active{background:var(--palette-violet-30)}:host.novo-accent-gray{border-left:4px solid var(--palette-gray-50)}:host.novo-fill-gray:not(.novo-option-inert){color:var(--palette-gray-50-contrast);background:var(--palette-gray-50)}:host.novo-fill-gray:not(.novo-option-inert):hover,:host.novo-fill-gray:not(.novo-option-inert):focus{background:var(--palette-gray-70)}:host.novo-fill-gray:not(.novo-option-inert):active{background:var(--palette-gray-30)}\n"], components: [{ type: i2.NovoPseudoCheckbox, selector: "novo-pseudo-checkbox", inputs: ["state", "shape", "disabled"] }], directives: [{ type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: NovoOption, decorators: [{
            type: Component,
            args: [{ selector: 'novo-option', exportAs: 'novoOption', host: {
                        role: 'option',
                        '[id]': 'id',
                        '[attr.tabindex]': '_getTabIndex()',
                        '[attr.aria-selected]': '_getAriaSelected()',
                        '[attr.aria-disabled]': 'disabled.toString()',
                        '[class.novo-active]': 'active',
                        '[class.novo-selected]': 'selectable && selected',
                        '[class.novo-option-multiple]': 'multiple',
                        '[class.novo-option-disabled]': 'disabled',
                        '[class.novo-option-inert]': 'novoInert',
                        '(keydown)': '_handleKeydown($event)',
                        class: 'novo-option novo-focus-indicator',
                    }, inputs: ['selected', 'keepOpen', 'novoInert', 'value', 'disabled'], changeDetection: ChangeDetectionStrategy.OnPush, template: "<novo-pseudo-checkbox *ngIf=\"selectable && multiple\" class=\"novo-option-pseudo-checkbox\"\n  [state]=\"selected ? 'checked' : 'unchecked'\" [disabled]=\"disabled\"></novo-pseudo-checkbox>\n\n<span class=\"novo-option-text\">\n  <ng-content></ng-content>\n</span>\n\n<novo-pseudo-checkbox *ngIf=\"selectable && !multiple && selected\" class=\"novo-option-pseudo-checkbox\" state=\"checked\"\n  shape=\"line\"\n  [disabled]=\"disabled\"></novo-pseudo-checkbox>\n\n<ng-content select=\"[novoSuffix]\"></ng-content>\n<!-- See a11y notes inside optgroup.ts for context behind this element. -->\n<span class=\"cdk-visually-hidden\" *ngIf=\"group && group._novoInert\">({{ group.label }})</span>", styles: [":host{min-height:var(--option-height);padding:0 var(--option-spacing);gap:var(--option-spacing);display:inline;font-weight:400;color:inherit;font-size:var(--font-size-text);transition:color .2s ease-out,opacity .2s ease-out;vertical-align:middle;position:relative;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;margin:0;cursor:pointer;flex:1;-webkit-tap-highlight-color:transparent}:host.text-capitalize{text-transform:capitalize}:host.text-uppercase{text-transform:uppercase}:host.text-nowrap{white-space:nowrap}:host.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host.text-size-default{font-size:inherit}:host.text-size-body{font-size:var(--font-size-body)}:host.text-size-xs{font-size:var(--font-size-xs)}:host.text-size-sm{font-size:var(--font-size-sm)}:host.text-size-md{font-size:var(--font-size-md)}:host.text-size-lg{font-size:var(--font-size-lg)}:host.text-size-xl{font-size:var(--font-size-xl)}:host.text-size-2xl{font-size:var(--font-size-2xl)}:host.text-size-3xl{font-size:var(--font-size-3xl)}:host.text-size-smaller{font-size:.8em}:host.text-size-larger{font-size:1.2em}:host.text-color-person{color:var(--color-person)}:host.text-color-company{color:var(--color-company)}:host.text-color-candidate{color:var(--color-candidate)}:host.text-color-lead{color:var(--color-lead)}:host.text-color-contact{color:var(--color-contact)}:host.text-color-clientcontact{color:var(--color-clientcontact)}:host.text-color-opportunity{color:var(--color-opportunity)}:host.text-color-job{color:var(--color-job)}:host.text-color-joborder{color:var(--color-joborder)}:host.text-color-submission{color:var(--color-submission)}:host.text-color-sendout{color:var(--color-sendout)}:host.text-color-placement{color:var(--color-placement)}:host.text-color-note{color:var(--color-note)}:host.text-color-task{color:var(--color-task)}:host.text-color-distribution-list{color:var(--color-distribution-list)}:host.text-color-credential{color:var(--color-credential)}:host.text-color-user{color:var(--color-user)}:host.text-color-corporate-user{color:var(--color-corporate-user)}:host.text-color-contract{color:var(--color-contract)}:host.text-color-job-code{color:var(--color-job-code)}:host.text-color-earn-code{color:var(--color-earn-code)}:host.text-color-billable-charge{color:var(--color-billable-charge)}:host.text-color-payable-charge{color:var(--color-payable-charge)}:host.text-color-invoice-statement{color:var(--color-invoice-statement)}:host.text-color-selection{color:var(--color-selection)}:host.text-color-positive{color:var(--color-positive)}:host.text-color-success{color:var(--color-success)}:host.text-color-warning{color:var(--color-warning)}:host.text-color-error{color:var(--color-error)}:host.text-color-info{color:var(--color-info)}:host.text-color-disabled{color:var(--color-disabled)}:host.text-color-red{color:var(--palette-red-50)}:host.text-color-pink{color:var(--palette-pink-50)}:host.text-color-orange{color:var(--palette-orange-50)}:host.text-color-yellow{color:var(--palette-yellow-50)}:host.text-color-green{color:var(--palette-green-50)}:host.text-color-teal{color:var(--palette-teal-50)}:host.text-color-blue{color:var(--palette-blue-50)}:host.text-color-aqua{color:var(--palette-aqua-50)}:host.text-color-indigo{color:var(--palette-indigo-50)}:host.text-color-violet{color:var(--palette-violet-50)}:host.text-color-gray{color:var(--palette-gray-50)}:host.margin-before{margin-top:.4rem}:host.margin-after{margin-bottom:.8rem}:host.text-length-small{max-width:40ch}:host.text-length-medium{max-width:55ch}:host.text-length-large{max-width:70ch}:host.text-weight-hairline{font-weight:100}:host.text-weight-thin{font-weight:200}:host.text-weight-light{font-weight:300}:host.text-weight-normal{font-weight:400}:host.text-weight-medium{font-weight:500}:host.text-weight-semibold{font-weight:600}:host.text-weight-bold{font-weight:700}:host.text-weight-extrabold{font-weight:800}:host.text-weight-heavy{font-weight:900}:host.text-weight-lighter{font-weight:lighter}:host.text-weight-bolder{font-weight:bolder}:host:hover:not(.novo-option-inert){background:var(--color-selection-overlay)}:host:active:not(.novo-option-inert),:host.novo-active:not(.novo-option-inert){background:var(--color-selection-overlay)}:host.novo-selected{color:var(--color-selection)}:host.disabled,:host[aria-disabled=true]{cursor:not-allowed;color:var(--color-disabled)}:host.disabled:hover,:host[aria-disabled=true]:hover{background:var(--color-error-overlay)}:host .novo-option-text{display:inline-block;display:inline-flex;flex-direction:row;align-items:center;flex-grow:1;overflow:hidden;text-overflow:ellipsis;gap:1rem}:host .novo-option-pseudo-checkbox{margin-right:.25rem}[dir=rtl] :host .novo-option-pseudo-checkbox{margin-left:.25rem;margin-right:0}:host.novo-accent-person{border-left:4px solid var(--color-person)}:host.novo-fill-person:not(.novo-option-inert){color:var(--color-person-contrast);background:var(--color-person)}:host.novo-fill-person:not(.novo-option-inert):hover,:host.novo-fill-person:not(.novo-option-inert):focus{background:var(--color-person-tint)}:host.novo-fill-person:not(.novo-option-inert):active{background:var(--color-person-shade)}:host.novo-accent-company{border-left:4px solid var(--color-company)}:host.novo-fill-company:not(.novo-option-inert){color:var(--color-company-contrast);background:var(--color-company)}:host.novo-fill-company:not(.novo-option-inert):hover,:host.novo-fill-company:not(.novo-option-inert):focus{background:var(--color-company-tint)}:host.novo-fill-company:not(.novo-option-inert):active{background:var(--color-company-shade)}:host.novo-accent-candidate{border-left:4px solid var(--color-candidate)}:host.novo-fill-candidate:not(.novo-option-inert){color:var(--color-candidate-contrast);background:var(--color-candidate)}:host.novo-fill-candidate:not(.novo-option-inert):hover,:host.novo-fill-candidate:not(.novo-option-inert):focus{background:var(--color-candidate-tint)}:host.novo-fill-candidate:not(.novo-option-inert):active{background:var(--color-candidate-shade)}:host.novo-accent-lead{border-left:4px solid var(--color-lead)}:host.novo-fill-lead:not(.novo-option-inert){color:var(--color-lead-contrast);background:var(--color-lead)}:host.novo-fill-lead:not(.novo-option-inert):hover,:host.novo-fill-lead:not(.novo-option-inert):focus{background:var(--color-lead-tint)}:host.novo-fill-lead:not(.novo-option-inert):active{background:var(--color-lead-shade)}:host.novo-accent-contact{border-left:4px solid var(--color-contact)}:host.novo-fill-contact:not(.novo-option-inert){color:var(--color-contact-contrast);background:var(--color-contact)}:host.novo-fill-contact:not(.novo-option-inert):hover,:host.novo-fill-contact:not(.novo-option-inert):focus{background:var(--color-contact-tint)}:host.novo-fill-contact:not(.novo-option-inert):active{background:var(--color-contact-shade)}:host.novo-accent-clientcontact{border-left:4px solid var(--color-clientcontact)}:host.novo-fill-clientcontact:not(.novo-option-inert){color:var(--color-clientcontact-contrast);background:var(--color-clientcontact)}:host.novo-fill-clientcontact:not(.novo-option-inert):hover,:host.novo-fill-clientcontact:not(.novo-option-inert):focus{background:var(--color-clientcontact-tint)}:host.novo-fill-clientcontact:not(.novo-option-inert):active{background:var(--color-clientcontact-shade)}:host.novo-accent-opportunity{border-left:4px solid var(--color-opportunity)}:host.novo-fill-opportunity:not(.novo-option-inert){color:var(--color-opportunity-contrast);background:var(--color-opportunity)}:host.novo-fill-opportunity:not(.novo-option-inert):hover,:host.novo-fill-opportunity:not(.novo-option-inert):focus{background:var(--color-opportunity-tint)}:host.novo-fill-opportunity:not(.novo-option-inert):active{background:var(--color-opportunity-shade)}:host.novo-accent-job{border-left:4px solid var(--color-job)}:host.novo-fill-job:not(.novo-option-inert){color:var(--color-job-contrast);background:var(--color-job)}:host.novo-fill-job:not(.novo-option-inert):hover,:host.novo-fill-job:not(.novo-option-inert):focus{background:var(--color-job-tint)}:host.novo-fill-job:not(.novo-option-inert):active{background:var(--color-job-shade)}:host.novo-accent-joborder{border-left:4px solid var(--color-joborder)}:host.novo-fill-joborder:not(.novo-option-inert){color:var(--color-joborder-contrast);background:var(--color-joborder)}:host.novo-fill-joborder:not(.novo-option-inert):hover,:host.novo-fill-joborder:not(.novo-option-inert):focus{background:var(--color-joborder-tint)}:host.novo-fill-joborder:not(.novo-option-inert):active{background:var(--color-joborder-shade)}:host.novo-accent-submission{border-left:4px solid var(--color-submission)}:host.novo-fill-submission:not(.novo-option-inert){color:var(--color-submission-contrast);background:var(--color-submission)}:host.novo-fill-submission:not(.novo-option-inert):hover,:host.novo-fill-submission:not(.novo-option-inert):focus{background:var(--color-submission-tint)}:host.novo-fill-submission:not(.novo-option-inert):active{background:var(--color-submission-shade)}:host.novo-accent-sendout{border-left:4px solid var(--color-sendout)}:host.novo-fill-sendout:not(.novo-option-inert){color:var(--color-sendout-contrast);background:var(--color-sendout)}:host.novo-fill-sendout:not(.novo-option-inert):hover,:host.novo-fill-sendout:not(.novo-option-inert):focus{background:var(--color-sendout-tint)}:host.novo-fill-sendout:not(.novo-option-inert):active{background:var(--color-sendout-shade)}:host.novo-accent-placement{border-left:4px solid var(--color-placement)}:host.novo-fill-placement:not(.novo-option-inert){color:var(--color-placement-contrast);background:var(--color-placement)}:host.novo-fill-placement:not(.novo-option-inert):hover,:host.novo-fill-placement:not(.novo-option-inert):focus{background:var(--color-placement-tint)}:host.novo-fill-placement:not(.novo-option-inert):active{background:var(--color-placement-shade)}:host.novo-accent-note{border-left:4px solid var(--color-note)}:host.novo-fill-note:not(.novo-option-inert){color:var(--color-note-contrast);background:var(--color-note)}:host.novo-fill-note:not(.novo-option-inert):hover,:host.novo-fill-note:not(.novo-option-inert):focus{background:var(--color-note-tint)}:host.novo-fill-note:not(.novo-option-inert):active{background:var(--color-note-shade)}:host.novo-accent-task{border-left:4px solid var(--color-task)}:host.novo-fill-task:not(.novo-option-inert){color:var(--color-task-contrast);background:var(--color-task)}:host.novo-fill-task:not(.novo-option-inert):hover,:host.novo-fill-task:not(.novo-option-inert):focus{background:var(--color-task-tint)}:host.novo-fill-task:not(.novo-option-inert):active{background:var(--color-task-shade)}:host.novo-accent-distribution-list{border-left:4px solid var(--color-distribution-list)}:host.novo-fill-distribution-list:not(.novo-option-inert){color:var(--color-distribution-list-contrast);background:var(--color-distribution-list)}:host.novo-fill-distribution-list:not(.novo-option-inert):hover,:host.novo-fill-distribution-list:not(.novo-option-inert):focus{background:var(--color-distribution-list-tint)}:host.novo-fill-distribution-list:not(.novo-option-inert):active{background:var(--color-distribution-list-shade)}:host.novo-accent-credential{border-left:4px solid var(--color-credential)}:host.novo-fill-credential:not(.novo-option-inert){color:var(--color-credential-contrast);background:var(--color-credential)}:host.novo-fill-credential:not(.novo-option-inert):hover,:host.novo-fill-credential:not(.novo-option-inert):focus{background:var(--color-credential-tint)}:host.novo-fill-credential:not(.novo-option-inert):active{background:var(--color-credential-shade)}:host.novo-accent-user{border-left:4px solid var(--color-user)}:host.novo-fill-user:not(.novo-option-inert){color:var(--color-user-contrast);background:var(--color-user)}:host.novo-fill-user:not(.novo-option-inert):hover,:host.novo-fill-user:not(.novo-option-inert):focus{background:var(--color-user-tint)}:host.novo-fill-user:not(.novo-option-inert):active{background:var(--color-user-shade)}:host.novo-accent-corporate-user{border-left:4px solid var(--color-corporate-user)}:host.novo-fill-corporate-user:not(.novo-option-inert){color:var(--color-corporate-user-contrast);background:var(--color-corporate-user)}:host.novo-fill-corporate-user:not(.novo-option-inert):hover,:host.novo-fill-corporate-user:not(.novo-option-inert):focus{background:var(--color-corporate-user-tint)}:host.novo-fill-corporate-user:not(.novo-option-inert):active{background:var(--color-corporate-user-shade)}:host.novo-accent-contract{border-left:4px solid var(--color-contract)}:host.novo-fill-contract:not(.novo-option-inert){color:var(--color-contract-contrast);background:var(--color-contract)}:host.novo-fill-contract:not(.novo-option-inert):hover,:host.novo-fill-contract:not(.novo-option-inert):focus{background:var(--color-contract-tint)}:host.novo-fill-contract:not(.novo-option-inert):active{background:var(--color-contract-shade)}:host.novo-accent-job-code{border-left:4px solid var(--color-job-code)}:host.novo-fill-job-code:not(.novo-option-inert){color:var(--color-job-code-contrast);background:var(--color-job-code)}:host.novo-fill-job-code:not(.novo-option-inert):hover,:host.novo-fill-job-code:not(.novo-option-inert):focus{background:var(--color-job-code-tint)}:host.novo-fill-job-code:not(.novo-option-inert):active{background:var(--color-job-code-shade)}:host.novo-accent-earn-code{border-left:4px solid var(--color-earn-code)}:host.novo-fill-earn-code:not(.novo-option-inert){color:var(--color-earn-code-contrast);background:var(--color-earn-code)}:host.novo-fill-earn-code:not(.novo-option-inert):hover,:host.novo-fill-earn-code:not(.novo-option-inert):focus{background:var(--color-earn-code-tint)}:host.novo-fill-earn-code:not(.novo-option-inert):active{background:var(--color-earn-code-shade)}:host.novo-accent-billable-charge{border-left:4px solid var(--color-billable-charge)}:host.novo-fill-billable-charge:not(.novo-option-inert){color:var(--color-billable-charge-contrast);background:var(--color-billable-charge)}:host.novo-fill-billable-charge:not(.novo-option-inert):hover,:host.novo-fill-billable-charge:not(.novo-option-inert):focus{background:var(--color-billable-charge-tint)}:host.novo-fill-billable-charge:not(.novo-option-inert):active{background:var(--color-billable-charge-shade)}:host.novo-accent-payable-charge{border-left:4px solid var(--color-payable-charge)}:host.novo-fill-payable-charge:not(.novo-option-inert){color:var(--color-payable-charge-contrast);background:var(--color-payable-charge)}:host.novo-fill-payable-charge:not(.novo-option-inert):hover,:host.novo-fill-payable-charge:not(.novo-option-inert):focus{background:var(--color-payable-charge-tint)}:host.novo-fill-payable-charge:not(.novo-option-inert):active{background:var(--color-payable-charge-shade)}:host.novo-accent-invoice-statement{border-left:4px solid var(--color-invoice-statement)}:host.novo-fill-invoice-statement:not(.novo-option-inert){color:var(--color-invoice-statement-contrast);background:var(--color-invoice-statement)}:host.novo-fill-invoice-statement:not(.novo-option-inert):hover,:host.novo-fill-invoice-statement:not(.novo-option-inert):focus{background:var(--color-invoice-statement-tint)}:host.novo-fill-invoice-statement:not(.novo-option-inert):active{background:var(--color-invoice-statement-shade)}:host.novo-accent-selection{border-left:4px solid var(--color-selection)}:host.novo-fill-selection:not(.novo-option-inert){color:var(--color-selection-contrast);background:var(--color-selection)}:host.novo-fill-selection:not(.novo-option-inert):hover,:host.novo-fill-selection:not(.novo-option-inert):focus{background:var(--color-selection-tint)}:host.novo-fill-selection:not(.novo-option-inert):active{background:var(--color-selection-shade)}:host.novo-accent-positive{border-left:4px solid var(--color-positive)}:host.novo-fill-positive:not(.novo-option-inert){color:var(--color-positive-contrast);background:var(--color-positive)}:host.novo-fill-positive:not(.novo-option-inert):hover,:host.novo-fill-positive:not(.novo-option-inert):focus{background:var(--color-positive-tint)}:host.novo-fill-positive:not(.novo-option-inert):active{background:var(--color-positive-shade)}:host.novo-accent-success{border-left:4px solid var(--color-success)}:host.novo-fill-success:not(.novo-option-inert){color:var(--color-success-contrast);background:var(--color-success)}:host.novo-fill-success:not(.novo-option-inert):hover,:host.novo-fill-success:not(.novo-option-inert):focus{background:var(--color-success-tint)}:host.novo-fill-success:not(.novo-option-inert):active{background:var(--color-success-shade)}:host.novo-accent-warning{border-left:4px solid var(--color-warning)}:host.novo-fill-warning:not(.novo-option-inert){color:var(--color-warning-contrast);background:var(--color-warning)}:host.novo-fill-warning:not(.novo-option-inert):hover,:host.novo-fill-warning:not(.novo-option-inert):focus{background:var(--color-warning-tint)}:host.novo-fill-warning:not(.novo-option-inert):active{background:var(--color-warning-shade)}:host.novo-accent-error{border-left:4px solid var(--color-error)}:host.novo-fill-error:not(.novo-option-inert){color:var(--color-error-contrast);background:var(--color-error)}:host.novo-fill-error:not(.novo-option-inert):hover,:host.novo-fill-error:not(.novo-option-inert):focus{background:var(--color-error-tint)}:host.novo-fill-error:not(.novo-option-inert):active{background:var(--color-error-shade)}:host.novo-accent-info{border-left:4px solid var(--color-info)}:host.novo-fill-info:not(.novo-option-inert){color:var(--color-info-contrast);background:var(--color-info)}:host.novo-fill-info:not(.novo-option-inert):hover,:host.novo-fill-info:not(.novo-option-inert):focus{background:var(--color-info-tint)}:host.novo-fill-info:not(.novo-option-inert):active{background:var(--color-info-shade)}:host.novo-accent-disabled{border-left:4px solid var(--color-disabled)}:host.novo-fill-disabled:not(.novo-option-inert){color:var(--color-disabled-contrast);background:var(--color-disabled)}:host.novo-fill-disabled:not(.novo-option-inert):hover,:host.novo-fill-disabled:not(.novo-option-inert):focus{background:var(--color-disabled-tint)}:host.novo-fill-disabled:not(.novo-option-inert):active{background:var(--color-disabled-shade)}:host.novo-accent-red{border-left:4px solid var(--palette-red-50)}:host.novo-fill-red:not(.novo-option-inert){color:var(--palette-red-50-contrast);background:var(--palette-red-50)}:host.novo-fill-red:not(.novo-option-inert):hover,:host.novo-fill-red:not(.novo-option-inert):focus{background:var(--palette-red-70)}:host.novo-fill-red:not(.novo-option-inert):active{background:var(--palette-red-30)}:host.novo-accent-pink{border-left:4px solid var(--palette-pink-50)}:host.novo-fill-pink:not(.novo-option-inert){color:var(--palette-pink-50-contrast);background:var(--palette-pink-50)}:host.novo-fill-pink:not(.novo-option-inert):hover,:host.novo-fill-pink:not(.novo-option-inert):focus{background:var(--palette-pink-70)}:host.novo-fill-pink:not(.novo-option-inert):active{background:var(--palette-pink-30)}:host.novo-accent-orange{border-left:4px solid var(--palette-orange-50)}:host.novo-fill-orange:not(.novo-option-inert){color:var(--palette-orange-50-contrast);background:var(--palette-orange-50)}:host.novo-fill-orange:not(.novo-option-inert):hover,:host.novo-fill-orange:not(.novo-option-inert):focus{background:var(--palette-orange-70)}:host.novo-fill-orange:not(.novo-option-inert):active{background:var(--palette-orange-30)}:host.novo-accent-yellow{border-left:4px solid var(--palette-yellow-50)}:host.novo-fill-yellow:not(.novo-option-inert){color:var(--palette-yellow-50-contrast);background:var(--palette-yellow-50)}:host.novo-fill-yellow:not(.novo-option-inert):hover,:host.novo-fill-yellow:not(.novo-option-inert):focus{background:var(--palette-yellow-70)}:host.novo-fill-yellow:not(.novo-option-inert):active{background:var(--palette-yellow-30)}:host.novo-accent-green{border-left:4px solid var(--palette-green-50)}:host.novo-fill-green:not(.novo-option-inert){color:var(--palette-green-50-contrast);background:var(--palette-green-50)}:host.novo-fill-green:not(.novo-option-inert):hover,:host.novo-fill-green:not(.novo-option-inert):focus{background:var(--palette-green-70)}:host.novo-fill-green:not(.novo-option-inert):active{background:var(--palette-green-30)}:host.novo-accent-teal{border-left:4px solid var(--palette-teal-50)}:host.novo-fill-teal:not(.novo-option-inert){color:var(--palette-teal-50-contrast);background:var(--palette-teal-50)}:host.novo-fill-teal:not(.novo-option-inert):hover,:host.novo-fill-teal:not(.novo-option-inert):focus{background:var(--palette-teal-70)}:host.novo-fill-teal:not(.novo-option-inert):active{background:var(--palette-teal-30)}:host.novo-accent-blue{border-left:4px solid var(--palette-blue-50)}:host.novo-fill-blue:not(.novo-option-inert){color:var(--palette-blue-50-contrast);background:var(--palette-blue-50)}:host.novo-fill-blue:not(.novo-option-inert):hover,:host.novo-fill-blue:not(.novo-option-inert):focus{background:var(--palette-blue-70)}:host.novo-fill-blue:not(.novo-option-inert):active{background:var(--palette-blue-30)}:host.novo-accent-aqua{border-left:4px solid var(--palette-aqua-50)}:host.novo-fill-aqua:not(.novo-option-inert){color:var(--palette-aqua-50-contrast);background:var(--palette-aqua-50)}:host.novo-fill-aqua:not(.novo-option-inert):hover,:host.novo-fill-aqua:not(.novo-option-inert):focus{background:var(--palette-aqua-70)}:host.novo-fill-aqua:not(.novo-option-inert):active{background:var(--palette-aqua-30)}:host.novo-accent-indigo{border-left:4px solid var(--palette-indigo-50)}:host.novo-fill-indigo:not(.novo-option-inert){color:var(--palette-indigo-50-contrast);background:var(--palette-indigo-50)}:host.novo-fill-indigo:not(.novo-option-inert):hover,:host.novo-fill-indigo:not(.novo-option-inert):focus{background:var(--palette-indigo-70)}:host.novo-fill-indigo:not(.novo-option-inert):active{background:var(--palette-indigo-30)}:host.novo-accent-violet{border-left:4px solid var(--palette-violet-50)}:host.novo-fill-violet:not(.novo-option-inert){color:var(--palette-violet-50-contrast);background:var(--palette-violet-50)}:host.novo-fill-violet:not(.novo-option-inert):hover,:host.novo-fill-violet:not(.novo-option-inert):focus{background:var(--palette-violet-70)}:host.novo-fill-violet:not(.novo-option-inert):active{background:var(--palette-violet-30)}:host.novo-accent-gray{border-left:4px solid var(--palette-gray-50)}:host.novo-fill-gray:not(.novo-option-inert){color:var(--palette-gray-50-contrast);background:var(--palette-gray-50)}:host.novo-fill-gray:not(.novo-option-inert):hover,:host.novo-fill-gray:not(.novo-option-inert):focus{background:var(--palette-gray-70)}:host.novo-fill-gray:not(.novo-option-inert):active{background:var(--palette-gray-30)}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [NOVO_OPTION_PARENT_COMPONENT]
                }] }, { type: i1.NovoOptgroup, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [NOVO_OPTGROUP]
                }] }]; } });
/**
 * Counts the amount of option group labels that precede the specified option.
 * @param optionIndex Index of the option at which to start counting.
 * @param options Flat list of all of the options.
 * @param optionGroups Flat list of all of the option groups.
 * @docs-private
 */
export function _countGroupLabelsBeforeOption(optionIndex, options, optionGroups) {
    if (optionGroups.length) {
        let optionsArray = options.toArray();
        let groups = optionGroups.toArray();
        let groupCounter = 0;
        for (let i = 0; i < optionIndex + 1; i++) {
            if (optionsArray[i].group && optionsArray[i].group === groups[groupCounter]) {
                groupCounter++;
            }
        }
        return groupCounter;
    }
    return 0;
}
/**
 * Determines the position to which to scroll a panel in order for an option to be into view.
 * @param optionOffset Offset of the option from the top of the panel.
 * @param optionHeight Height of the options.
 * @param currentScrollPosition Current scroll position of the panel.
 * @param panelHeight Height of the panel.
 * @docs-private
 */
export function _getOptionScrollPosition(optionOffset, optionHeight, currentScrollPosition, panelHeight) {
    if (optionOffset < currentScrollPosition) {
        return optionOffset;
    }
    if (optionOffset + optionHeight > currentScrollPosition + panelHeight) {
        return Math.max(0, optionOffset - panelHeight + optionHeight);
    }
    return currentScrollPosition;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3B0aW9uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2VsZW1lbnRzL2NvbW1vbi9vcHRpb24vb3B0aW9uLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2VsZW1lbnRzL2NvbW1vbi9vcHRpb24vb3B0aW9uLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNBLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzlELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUN2RCxPQUFPLEVBRUwsdUJBQXVCLEVBQ3ZCLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsU0FBUyxFQUNULFVBQVUsRUFDVixZQUFZLEVBQ1osTUFBTSxFQUNOLEtBQUssRUFFTCxRQUFRLEVBQ1IsTUFBTSxHQUVQLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxZQUFZLEVBQU8sTUFBTSxxQkFBcUIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBZ0IsTUFBTSxNQUFNLENBQUM7QUFDeEQsT0FBTyxFQUFFLFlBQVksRUFBRSxnQkFBZ0IsRUFBRSxhQUFhLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNyRixPQUFPLEVBQTZCLDRCQUE0QixFQUFFLE1BQU0saUJBQWlCLENBQUM7Ozs7O0FBRTFGOzs7R0FHRztBQUNILElBQUksZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO0FBRXpCLHNFQUFzRTtBQUN0RSxNQUFNLE9BQU8seUJBQXlCO0lBQ3BDO0lBQ0Usc0RBQXNEO0lBQy9DLE1BQXNCO0lBQzdCLDhFQUE4RTtJQUN2RSxjQUFjLEtBQUs7UUFGbkIsV0FBTSxHQUFOLE1BQU0sQ0FBZ0I7UUFFdEIsZ0JBQVcsR0FBWCxXQUFXLENBQVE7SUFDekIsQ0FBQztDQUNMO0FBR0QsTUFBTSxPQUFP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Q3hDLE9BQU8sWUFBWSxDQUFDO0tBQ3JCO0lBRUQsSUFBSSxZQUFZLEdBQUcsWUFBWSxHQUFHLHFCQUFxQixHQUFHLFdBQVcsRUFBRTtRQUNyRSxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLFlBQVksR0FBRyxXQUFXLEdBQUcsWUFBWSxDQUFDLENBQUM7S0FDL0Q7SUFFRCxPQUFPLHFCQUFxQixDQUFDO0FBQy9CLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGb2N1c2FibGVPcHRpb24sIEZvY3VzT3B0aW9ucywgRm9jdXNPcmlnaW4gfSBmcm9tICdAYW5ndWxhci9jZGsvYTExeSc7XG5pbXBvcnQgeyBjb2VyY2VCb29sZWFuUHJvcGVydHkgfSBmcm9tICdAYW5ndWxhci9jZGsvY29lcmNpb24nO1xuaW1wb3J0IHsgaGFzTW9kaWZpZXJLZXkgfSBmcm9tICdAYW5ndWxhci9jZGsva2V5Y29kZXMnO1xuaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3Q2hlY2tlZCxcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIERpcmVjdGl2ZSxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBJbmplY3QsXG4gIElucHV0LFxuICBPbkRlc3Ryb3ksXG4gIE9wdGlvbmFsLFxuICBPdXRwdXQsXG4gIFF1ZXJ5TGlzdCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCb29sZWFuSW5wdXQsIEtleSB9IGZyb20gJ25vdm8tZWxlbWVudHMvdXRpbHMnO1xuaW1wb3J0IHsgZnJvbUV2ZW50LCBTdWJqZWN0LCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IE5vdm9PcHRncm91cCwgTm92b09wdGdyb3VwQmFzZSwgTk9WT19PUFRHUk9VUCB9IGZyb20gJy4vb3B0Z3JvdXAuY29tcG9uZW50JztcbmltcG9ydCB7IE5vdm9PcHRpb25QYXJlbnRDb21wb25lbnQsIE5PVk9fT1BUSU9OX1BBUkVOVF9DT01QT05FTlQgfSBmcm9tICcuL29wdGlvbi1wYXJlbnQnO1xuXG4vKipcbiAqIE9wdGlvbiBJRHMgbmVlZCB0byBiZSB1bmlxdWUgYWNyb3NzIGNvbXBvbmVudHMsIHNvIHRoaXMgY291bnRlciBleGlzdHMgb3V0c2lkZSBvZlxuICogdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLlxuICovXG5sZXQgX3VuaXF1ZUlkQ291bnRlciA9IDA7XG5cbi8qKiBFdmVudCBvYmplY3QgZW1pdHRlZCBieSBOb3ZvT3B0aW9uIHdoZW4gc2VsZWN0ZWQgb3IgZGVzZWxlY3RlZC4gKi9cbmV4cG9ydCBjbGFzcyBOb3ZvT3B0aW9uU2VsZWN0aW9uQ2hhbmdlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgLyoqIFJlZmVyZW5jZSB0byB0aGUgb3B0aW9uIHRoYXQgZW1pdHRlZCB0aGUgZXZlbnQuICovXG4gICAgcHVibGljIHNvdXJjZTogTm92b09wdGlvbkJhc2UsXG4gICAgLyoqIFdoZXRoZXIgdGhlIGNoYW5nZSBpbiB0aGUgb3B0aW9uJ3MgdmFsdWUgd2FzIGEgcmVzdWx0IG9mIGEgdXNlciBhY3Rpb24uICovXG4gICAgcHVibGljIGlzVXNlcklucHV0ID0gZmFsc2UsXG4gICkge31cbn1cblxuQERpcmVjdGl2ZSgpXG5leHBvcnQgY2xhc3MgTm92b09wdGlvbkJhc2UgaW1wbGVtZW50cyBGb2N1c2FibGVPcHRpb24sIEFmdGVyVmlld0NoZWNrZWQsIE9uRGVzdHJveSB7XG4gIHByaXZhdGUgX3NlbGVjdGVkID0gZmFsc2U7XG4gIHByaXZhdGUgX2FjdGl2ZSA9IGZhbHNlO1xuICBwcml2YXRlIF9kaXNhYmxlZCA9IGZhbHNlO1xuICBwcml2YXRlIF9tb3N0UmVjZW50Vmlld1ZhbHVlID0gJyc7XG4gIHByaXZhdGUgX2NsaWNrQ2FwdHVyZTogU3Vic2NyaXB0aW9uO1xuICBwcml2YXRlIF9jbGlja1Bhc3NpdmU6IFN1YnNjcmlwdGlvbjtcblxuICAvKiogVE9ETzogZGVwcmVjYXRlIG1heWJlLCBjaGVjayBzdXBwb3J0IGZvciB0YWJsZSBoZWFkZXJzICovXG4gIEBCb29sZWFuSW5wdXQoKVxuICBASW5wdXQoKVxuICBrZWVwT3BlbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIEBCb29sZWFuSW5wdXQoKVxuICBASW5wdXQoKVxuICBub3ZvSW5lcnQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKiogSWYgdGhlcmUgaXMgbm8gcGFyZW50IHRoZW4gbm90aGluZyBpcyBtYW5hZ2luZyB0aGUgc2VsZWN0aW9uLiAqL1xuICBnZXQgc2VsZWN0YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xuICB9XG5cbiAgLyoqIFdoZXRoZXIgdGhlIHdyYXBwaW5nIGNvbXBvbmVudCBpcyBpbiBtdWx0aXBsZSBzZWxlY3Rpb24gbW9kZS4gKi9cbiAgZ2V0IG11bHRpcGxlKCkge1xuICAgIHJldHVybiB0aGlzLl9wYXJlbnQgJiYgdGhpcy5fcGFyZW50Lm11bHRpcGxlO1xuICB9XG5cbiAgLyoqIFRoZSBmb3JtIHZhbHVlIG9mIHRoZSBvcHRpb24uICovXG4gIEBJbnB1dCgpIHZhbHVlOiBhbnk7XG5cbiAgLyoqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIG9wdGlvbi4gKi9cbiAgQElucHV0KCkgaWQ6IHN0cmluZyA9IGBub3ZvLW9wdGlvbi0ke191bmlxdWVJZENvdW50ZXIrK31gO1xuXG4gIC8qKiBXaGV0aGVyIHRoZSBvcHRpb24gaXMgZGlzYWJsZWQuICovXG4gIEBJbnB1dCgpXG4gIGdldCBkaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gKHRoaXMuZ3JvdXAgJiYgdGhpcy5ncm91cC5kaXNhYmxlZCkgfHwgdGhpcy5fZGlzYWJsZWQ7XG4gIH1cbiAgc2V0IGRpc2FibGVkKHZhbHVlOiBhbnkpIHtcbiAgICB0aGlzLl9kaXNhYmxlZCA9IGNvZXJjZUJvb2xlYW5Qcm9wZXJ0eSh2YWx1ZSk7XG4gIH1cblxuICBASW5wdXQoKVxuICBnZXQgc2VsZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkO1xuICB9XG4gIHNldCBzZWxlY3RlZCh2YWx1ZTogYW55KSB7XG4gICAgdGhpcy5fc2VsZWN0ZWQgPSBjb2VyY2VCb29sZWFuUHJvcGVydHkodmFsdWUpO1xuICB9XG5cbiAgLyoqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgb3B0aW9uIGlzIHNlbGVjdGVkIG9yIGRlc2VsZWN0ZWQuICovXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1vdXRwdXQtb24tcHJlZml4XG4gIEBPdXRwdXQoKSByZWFkb25seSBvblNlbGVjdGlvbkNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8Tm92b09wdGlvblNlbGVjdGlvbkNoYW5nZT4oKTtcblxuICAvKiogRW1pdHMgd2hlbiB0aGUgc3RhdGUgb2YgdGhlIG9wdGlvbiBjaGFuZ2VzIGFuZCBhbnkgcGFyZW50cyBoYXZlIHRvIGJlIG5vdGlmaWVkLiAqL1xuICByZWFkb25seSBfc3RhdGVDaGFuZ2VzID0gbmV3IFN1YmplY3Q8dm9pZD4oKTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIF9lbGVtZW50OiBFbGVtZW50UmVmPEhUTUxFbGVtZW50PixcbiAgICBwcml2YXRlIF9jaGFuZ2VEZXRlY3RvclJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgQE9wdGlvbmFsKCkgQEluamVjdChOT1ZPX09QVElPTl9QQVJFTlRfQ09NUE9ORU5UKSBwcml2YXRlIF9wYXJlbnQ6IE5vdm9PcHRpb25QYXJlbnRDb21wb25lbnQsXG4gICAgQE9wdGlvbmFsKCkgQEluamVjdChOT1ZPX09QVEdST1VQKSByZWFkb25seSBncm91cDogTm92b09wdGdyb3VwQmFzZSxcbiAgKSB7XG4gICAgLy8gKGNsaWNrKSBpcyBvdmVycmlkZGVuIHdoZW4gZGVmaW5lZCBieSB1c2VyLlxuICAgIHRoaXMuX2NsaWNrQ2FwdHVyZSA9IGZyb21FdmVudDxNb3VzZUV2ZW50Pih0aGlzLl9lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsICdjbGljaycsIHsgY2FwdHVyZTogdHJ1ZSB9KS5zdWJzY3JpYmUoKGV2dDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGlzYWJsZWRDbGljayhldnQpO1xuICAgIH0pO1xuICAgIHRoaXMuX2NsaWNrUGFzc2l2ZSA9IGZyb21FdmVudDxNb3VzZUV2ZW50Pih0aGlzLl9lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsICdjbGljaycpLnN1YnNjcmliZSgoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuX2hhbmRsZVBhc3NpdmVDbGljayhldnQpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgb3B0aW9uIGlzIGN1cnJlbnRseSBhY3RpdmUgYW5kIHJlYWR5IHRvIGJlIHNlbGVjdGVkLlxuICAgKiBBbiBhY3RpdmUgb3B0aW9uIGRpc3BsYXlzIHN0eWxlcyBhcyBpZiBpdCBpcyBmb2N1c2VkLCBidXQgdGhlXG4gICAqIGZvY3VzIGlzIGFjdHVhbGx5IHJldGFpbmVkIHNvbWV3aGVyZSBlbHNlLiBUaGlzIGNvbWVzIGluIGhhbmR5XG4gICAqIGZvciBjb21wb25lbnRzIGxpa2UgYXV0b2NvbXBsZXRlIHdoZXJlIGZvY3VzIG11c3QgcmVtYWluIG9uIHRoZSBpbnB1dC5cbiAgICovXG4gIGdldCBhY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgZGlzcGxheWVkIHZhbHVlIG9mIHRoZSBvcHRpb24uIEl0IGlzIG5lY2Vzc2FyeSB0byBzaG93IHRoZSBzZWxlY3RlZCBvcHRpb24gaW4gdGhlXG4gICAqIHNlbGVjdCdzIHRyaWdnZXIuXG4gICAqL1xuICBnZXQgdmlld1ZhbHVlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICh0aGlzLl9nZXRIb3N0RWxlbWVudCgpLnRleHRDb250ZW50IHx8ICcnKS50cmltKCk7XG4gIH1cblxuICAvKiogU2VsZWN0cyB0aGUgb3B0aW9uLiAqL1xuICBzZWxlY3QoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl9zZWxlY3RlZCkge1xuICAgICAgdGhpcy5fc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XG4gICAgICAvLyB0aGlzLl9lbWl0U2VsZWN0aW9uQ2hhbmdlRXZlbnQoKTtcbiAgICB9XG4gIH1cblxuICAvKiogRGVzZWxlY3RzIHRoZSBvcHRpb24uICovXG4gIGRlc2VsZWN0KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9zZWxlY3RlZCkge1xuICAgICAgdGhpcy5fc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICAgICAgLy8gdGhpcy5fZW1pdFNlbGVjdGlvbkNoYW5nZUV2ZW50KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIFNldHMgZm9jdXMgb250byB0aGlzIG9wdGlvbi4gKi9cbiAgZm9jdXMoX29yaWdpbj86IEZvY3VzT3JpZ2luLCBvcHRpb25zPzogRm9jdXNPcHRpb25zKTogdm9pZCB7XG4gICAgLy8gTm90ZSB0aGF0IHdlIGFyZW4ndCB1c2luZyBgX29yaWdpbmAsIGJ1dCB3ZSBuZWVkIHRvIGtlZXAgaXQgYmVjYXVzZSBzb21lIGludGVybmFsIGNvbnN1bWVyc1xuICAgIC8vIHVzZSBgTm92b09wdGlvbmAgaW4gYSBgRm9jdXNLZXlNYW5hZ2VyYCBhbmQgd2UgbmVlZCBpdCB0byBtYXRjaCBgRm9jdXNhYmxlT3B0aW9uYC5cbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fZ2V0SG9zdEVsZW1lbnQoKTtcblxuICAgIGlmICh0eXBlb2YgZWxlbWVudC5mb2N1cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZWxlbWVudC5mb2N1cyhvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2Qgc2V0cyBkaXNwbGF5IHN0eWxlcyBvbiB0aGUgb3B0aW9uIHRvIG1ha2UgaXQgYXBwZWFyXG4gICAqIGFjdGl2ZS4gVGhpcyBpcyB1c2VkIGJ5IHRoZSBBY3RpdmVEZXNjZW5kYW50S2V5TWFuYWdlciBzbyBrZXlcbiAgICogZXZlbnRzIHdpbGwgZGlzcGxheSB0aGUgcHJvcGVyIG9wdGlvbnMgYXMgYWN0aXZlIG9uIGFycm93IGtleSBldmVudHMuXG4gICAqL1xuICBzZXRBY3RpdmVTdHlsZXMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICB0aGlzLl9jaGFuZ2VEZXRlY3RvclJlZi5tYXJrRm9yQ2hlY2soKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgcmVtb3ZlcyBkaXNwbGF5IHN0eWxlcyBvbiB0aGUgb3B0aW9uIHRoYXQgbWFkZSBpdCBhcHBlYXJcbiAgICogYWN0aXZlLiBUaGlzIGlzIHVzZWQgYnkgdGhlIEFjdGl2ZURlc2NlbmRhbnRLZXlNYW5hZ2VyIHNvIGtleVxuICAgKiBldmVudHMgd2lsbCBkaXNwbGF5IHRoZSBwcm9wZXIgb3B0aW9ucyBhcyBhY3RpdmUgb24gYXJyb3cga2V5IGV2ZW50cy5cbiAgICovXG4gIHNldEluYWN0aXZlU3R5bGVzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEdldHMgdGhlIGxhYmVsIHRvIGJlIHVzZWQgd2hlbiBkZXRlcm1pbmluZyB3aGV0aGVyIHRoZSBvcHRpb24gc2hvdWxkIGJlIGZvY3VzZWQuICovXG4gIGdldExhYmVsKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMudmlld1ZhbHVlO1xuICB9XG5cbiAgX2hhbmRsZURpc2FibGVkQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG4gIF9oYW5kbGVQYXNzaXZlQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMubm92b0luZXJ0KSB7XG4gICAgICB0aGlzLl9zZWxlY3RWaWFJbnRlcmFjdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBFbnN1cmVzIHRoZSBvcHRpb24gaXMgc2VsZWN0ZWQgd2hlbiBhY3RpdmF0ZWQgZnJvbSB0aGUga2V5Ym9hcmQuICovXG4gIF9oYW5kbGVLZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgZXZlbnQua2V5ID09PSBLZXkuRW50ZXIpIHtcbiAgICAgIHRoaXMuX2VtaXRTZWxlY3Rpb25DaGFuZ2VFdmVudCghdGhpcy5rZWVwT3Blbik7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgICEoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkgJiZcbiAgICAgIChldmVudC5rZXkgPT09IEtleS5FbnRlciB8fCBldmVudC5rZXkgPT09IEtleS5TcGFjZSkgJiZcbiAgICAgICFoYXNNb2RpZmllcktleShldmVudClcbiAgICApIHtcbiAgICAgIHRoaXMuX3NlbGVjdFZpYUludGVyYWN0aW9uKCk7XG4gICAgICAvLyBQcmV2ZW50IHRoZSBwYWdlIGZyb20gc2Nyb2xsaW5nIGRvd24gYW5kIGZvcm0gc3VibWl0cy5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGBTZWxlY3RzIHRoZSBvcHRpb24gd2hpbGUgaW5kaWNhdGluZyB0aGUgc2VsZWN0aW9uIGNhbWUgZnJvbSB0aGUgdXNlci4gVXNlZCB0b1xuICAgKiBkZXRlcm1pbmUgaWYgdGhlIHNlbGVjdCdzIHZpZXcgLT4gbW9kZWwgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQuYFxuICAgKi9cbiAgX3NlbGVjdFZpYUludGVyYWN0aW9uKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5fc2VsZWN0ZWQgPSB0aGlzLm11bHRpcGxlID8gIXRoaXMuX3NlbGVjdGVkIDogdHJ1ZTtcbiAgICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICAgICAgdGhpcy5fZW1pdFNlbGVjdGlvbkNoYW5nZUV2ZW50KCF0aGlzLmtlZXBPcGVuKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRm9yY2UgYSBjbGljayBldmVudFxuICAgKi9cbiAgX2NsaWNrVmlhSW50ZXJhY3Rpb24oKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLl9lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuY2xpY2soKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgYGFyaWEtc2VsZWN0ZWRgIHZhbHVlIGZvciB0aGUgb3B0aW9uLiBXZSBleHBsaWNpdGx5IG9taXQgdGhlIGBhcmlhLXNlbGVjdGVkYFxuICAgKiBhdHRyaWJ1dGUgZnJvbSBzaW5nbGUtc2VsZWN0aW9uLCB1bnNlbGVjdGVkIG9wdGlvbnMuIEluY2x1ZGluZyB0aGUgYGFyaWEtc2VsZWN0ZWQ9XCJmYWxzZVwiYFxuICAgKiBhdHRyaWJ1dGVzIGFkZHMgYSBzaWduaWZpY2FudCBhbW91bnQgb2Ygbm9pc2UgdG8gc2NyZWVuLXJlYWRlciB1c2VycyB3aXRob3V0IHByb3ZpZGluZyB1c2VmdWxcbiAgICogaW5mb3JtYXRpb24uXG4gICAqL1xuICBfZ2V0QXJpYVNlbGVjdGVkKCk6IGJvb2xlYW4gfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RlZCB8fCAodGhpcy5tdWx0aXBsZSA/IGZhbHNlIDogbnVsbCk7XG4gIH1cblxuICAvKiogUmV0dXJucyB0aGUgY29ycmVjdCB0YWJpbmRleCBmb3IgdGhlIG9wdGlvbiBkZXBlbmRpbmcgb24gZGlzYWJsZWQgc3RhdGUuICovXG4gIF9nZXRUYWJJbmRleCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmRpc2FibGVkID8gJy0xJyA6ICcwJztcbiAgfVxuXG4gIC8qKiBHZXRzIHRoZSBob3N0IERPTSBlbGVtZW50LiAqL1xuICBfZ2V0SG9zdEVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gIH1cblxuICBuZ0FmdGVyVmlld0NoZWNrZWQoKSB7XG4gICAgLy8gU2luY2UgcGFyZW50IGNvbXBvbmVudHMgY291bGQgYmUgdXNpbmcgdGhlIG9wdGlvbidzIGxhYmVsIHRvIGRpc3BsYXkgdGhlIHNlbGVjdGVkIHZhbHVlc1xuICAgIC8vIChlLmcuIGBub3ZvLXNlbGVjdGApIGFuZCB0aGV5IGRvbid0IGhhdmUgYSB3YXkgb2Yga25vd2luZyBpZiB0aGUgb3B0aW9uJ3MgbGFiZWwgaGFzIGNoYW5nZWRcbiAgICAvLyB3ZSBoYXZlIHRvIGNoZWNrIGZvciBjaGFuZ2VzIGluIHRoZSBET00gb3Vyc2VsdmVzIGFuZCBkaXNwYXRjaCBhbiBldmVudC4gVGhlc2UgY2hlY2tzIGFyZVxuICAgIC8vIHJlbGF0aXZlbHkgY2hlYXAsIGhvd2V2ZXIgd2Ugc3RpbGwgbGltaXQgdGhlbSBvbmx5IHRvIHNlbGVjdGVkIG9wdGlvbnMgaW4gb3JkZXIgdG8gYXZvaWRcbiAgICAvLyBoaXR0aW5nIHRoZSBET00gdG9vIG9mdGVuLlxuICAgIGlmICh0aGlzLl9zZWxlY3RlZCkge1xuICAgICAgY29uc3Qgdmlld1ZhbHVlID0gdGhpcy52aWV3VmFsdWU7XG5cbiAgICAgIGlmICh2aWV3VmFsdWUgIT09IHRoaXMuX21vc3RSZWNlbnRWaWV3VmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbW9zdFJlY2VudFZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcbiAgICAgICAgdGhpcy5fc3RhdGVDaGFuZ2VzLm5leHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLl9zdGF0ZUNoYW5nZXMuY29tcGxldGUoKTtcbiAgICB0aGlzLl9jbGlja0NhcHR1cmUudW5zdWJzY3JpYmUoKTtcbiAgICB0aGlzLl9jbGlja1Bhc3NpdmUudW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIC8qKiBFbWl0cyB0aGUgc2VsZWN0aW9uIGNoYW5nZSBldmVudC4gKi9cbiAgcHJpdmF0ZSBfZW1pdFNlbGVjdGlvbkNoYW5nZUV2ZW50KGlzVXNlcklucHV0ID0gZmFsc2UpOiB2b2lkIHtcbiAgICB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmVtaXQobmV3IE5vdm9PcHRpb25TZWxlY3Rpb25DaGFuZ2UodGhpcywgaXNVc2VySW5wdXQpKTtcbiAgfVxufVxuXG4vKipcbiAqIFNpbmdsZSBvcHRpb24gaW5zaWRlIG9mIGEgYDxub3ZvLXNlbGVjdD5gIGVsZW1lbnQuXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ25vdm8tb3B0aW9uJyxcbiAgZXhwb3J0QXM6ICdub3ZvT3B0aW9uJyxcbiAgaG9zdDoge1xuICAgIHJvbGU6ICdvcHRpb24nLFxuICAgICdbaWRdJzogJ2lkJyxcbiAgICAnW2F0dHIudGFiaW5kZXhdJzogJ19nZXRUYWJJbmRleCgpJyxcbiAgICAnW2F0dHIuYXJpYS1zZWxlY3RlZF0nOiAnX2dldEFyaWFTZWxlY3RlZCgpJyxcbiAgICAnW2F0dHIuYXJpYS1kaXNhYmxlZF0nOiAnZGlzYWJsZWQudG9TdHJpbmcoKScsXG4gICAgJ1tjbGFzcy5ub3ZvLWFjdGl2ZV0nOiAnYWN0aXZlJyxcbiAgICAnW2NsYXNzLm5vdm8tc2VsZWN0ZWRdJzogJ3NlbGVjdGFibGUgJiYgc2VsZWN0ZWQnLFxuICAgICdbY2xhc3Mubm92by1vcHRpb24tbXVsdGlwbGVdJzogJ211bHRpcGxlJyxcbiAgICAnW2NsYXNzLm5vdm8tb3B0aW9uLWRpc2FibGVkXSc6ICdkaXNhYmxlZCcsXG4gICAgJ1tjbGFzcy5ub3ZvLW9wdGlvbi1pbmVydF0nOiAnbm92b0luZXJ0JyxcbiAgICAnKGtleWRvd24pJzogJ19oYW5kbGVLZXlkb3duKCRldmVudCknLFxuICAgIGNsYXNzOiAnbm92by1vcHRpb24gbm92by1mb2N1cy1pbmRpY2F0b3InLFxuICB9LFxuICBpbnB1dHM6IFsnc2VsZWN0ZWQnLCAna2VlcE9wZW4nLCAnbm92b0luZXJ0JywgJ3ZhbHVlJywgJ2Rpc2FibGVkJ10sXG4gIHN0eWxlVXJsczogWydvcHRpb24uY29tcG9uZW50LnNjc3MnXSxcbiAgdGVtcGxhdGVVcmw6ICdvcHRpb24uY29tcG9uZW50Lmh0bWwnLFxuICAvLyBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgTm92b09wdGlvbiBleHRlbmRzIE5vdm9PcHRpb25CYXNlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZWxlbWVudDogRWxlbWVudFJlZjxIVE1MRWxlbWVudD4sXG4gICAgY2hhbmdlRGV0ZWN0b3JSZWY6IENoYW5nZURldGVjdG9yUmVmLFxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoTk9WT19PUFRJT05fUEFSRU5UX0NPTVBPTkVOVCkgcGFyZW50OiBOb3ZvT3B0aW9uUGFyZW50Q29tcG9uZW50LFxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoTk9WT19PUFRHUk9VUCkgZ3JvdXA6IE5vdm9PcHRncm91cCxcbiAgKSB7XG4gICAgc3VwZXIoZWxlbWVudCwgY2hhbmdlRGV0ZWN0b3JSZWYsIHBhcmVudCwgZ3JvdXApO1xuICB9XG59XG5cbi8qKlxuICogQ291bnRzIHRoZSBhbW91bnQgb2Ygb3B0aW9uIGdyb3VwIGxhYmVscyB0aGF0IHByZWNlZGUgdGhlIHNwZWNpZmllZCBvcHRpb24uXG4gKiBAcGFyYW0gb3B0aW9uSW5kZXggSW5kZXggb2YgdGhlIG9wdGlvbiBhdCB3aGljaCB0byBzdGFydCBjb3VudGluZy5cbiAqIEBwYXJhbSBvcHRpb25zIEZsYXQgbGlzdCBvZiBhbGwgb2YgdGhlIG9wdGlvbnMuXG4gKiBAcGFyYW0gb3B0aW9uR3JvdXBzIEZsYXQgbGlzdCBvZiBhbGwgb2YgdGhlIG9wdGlvbiBncm91cHMuXG4gKiBAZG9jcy1wcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfY291bnRHcm91cExhYmVsc0JlZm9yZU9wdGlvbihcbiAgb3B0aW9uSW5kZXg6IG51bWJlcixcbiAgb3B0aW9uczogUXVlcnlMaXN0PE5vdm9PcHRpb24+LFxuICBvcHRpb25Hcm91cHM6IFF1ZXJ5TGlzdDxOb3ZvT3B0Z3JvdXA+LFxuKTogbnVtYmVyIHtcbiAgaWYgKG9wdGlvbkdyb3Vwcy5sZW5ndGgpIHtcbiAgICBsZXQgb3B0aW9uc0FycmF5ID0gb3B0aW9ucy50b0FycmF5KCk7XG4gICAgbGV0IGdyb3VwcyA9IG9wdGlvbkdyb3Vwcy50b0FycmF5KCk7XG4gICAgbGV0IGdyb3VwQ291bnRlciA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbkluZGV4ICsgMTsgaSsrKSB7XG4gICAgICBpZiAob3B0aW9uc0FycmF5W2ldLmdyb3VwICYmIG9wdGlvbnNBcnJheVtpXS5ncm91cCA9PT0gZ3JvdXBzW2dyb3VwQ291bnRlcl0pIHtcbiAgICAgICAgZ3JvdXBDb3VudGVyKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyb3VwQ291bnRlcjtcbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgdGhlIHBvc2l0aW9uIHRvIHdoaWNoIHRvIHNjcm9sbCBhIHBhbmVsIGluIG9yZGVyIGZvciBhbiBvcHRpb24gdG8gYmUgaW50byB2aWV3LlxuICogQHBhcmFtIG9wdGlvbk9mZnNldCBPZmZzZXQgb2YgdGhlIG9wdGlvbiBmcm9tIHRoZSB0b3Agb2YgdGhlIHBhbmVsLlxuICogQHBhcmFtIG9wdGlvbkhlaWdodCBIZWlnaHQgb2YgdGhlIG9wdGlvbnMuXG4gKiBAcGFyYW0gY3VycmVudFNjcm9sbFBvc2l0aW9uIEN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uIG9mIHRoZSBwYW5lbC5cbiAqIEBwYXJhbSBwYW5lbEhlaWdodCBIZWlnaHQgb2YgdGhlIHBhbmVsLlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gX2dldE9wdGlvblNjcm9sbFBvc2l0aW9uKFxuICBvcHRpb25PZmZzZXQ6IG51bWJlcixcbiAgb3B0aW9uSGVpZ2h0OiBudW1iZXIsXG4gIGN1cnJlbnRTY3JvbGxQb3NpdGlvbjogbnVtYmVyLFxuICBwYW5lbEhlaWdodDogbnVtYmVyLFxuKTogbnVtYmVyIHtcbiAgaWYgKG9wdGlvbk9mZnNldCA8IGN1cnJlbnRTY3JvbGxQb3NpdGlvbikge1xuICAgIHJldHVybiBvcHRpb25PZmZzZXQ7XG4gIH1cblxuICBpZiAob3B0aW9uT2Zmc2V0ICsgb3B0aW9uSGVpZ2h0ID4gY3VycmVudFNjcm9sbFBvc2l0aW9uICsgcGFuZWxIZWlnaHQpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgb3B0aW9uT2Zmc2V0IC0gcGFuZWxIZWlnaHQgKyBvcHRpb25IZWlnaHQpO1xuICB9XG5cbiAgcmV0dXJuIGN1cnJlbnRTY3JvbGxQb3NpdGlvbjtcbn1cbiIsIjxub3ZvLXBzZXVkby1jaGVja2JveCAqbmdJZj1cInNlbGVjdGFibGUgJiYgbXVsdGlwbGVcIiBjbGFzcz1cIm5vdm8tb3B0aW9uLXBzZXVkby1jaGVja2JveFwiXG4gIFtzdGF0ZV09XCJzZWxlY3RlZCA/ICdjaGVja2VkJyA6ICd1bmNoZWNrZWQnXCIgW2Rpc2FibGVkXT1cImRpc2FibGVkXCI+PC9ub3ZvLXBzZXVkby1jaGVja2JveD5cblxuPHNwYW4gY2xhc3M9XCJub3ZvLW9wdGlvbi10ZXh0XCI+XG4gIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbjwvc3Bhbj5cblxuPG5vdm8tcHNldWRvLWNoZWNrYm94ICpuZ0lmPVwic2VsZWN0YWJsZSAmJiAhbXVsdGlwbGUgJiYgc2VsZWN0ZWRcIiBjbGFzcz1cIm5vdm8tb3B0aW9uLXBzZXVkby1jaGVja2JveFwiIHN0YXRlPVwiY2hlY2tlZFwiXG4gIHNoYXBlPVwibGluZVwiXG4gIFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiPjwvbm92by1wc2V1ZG8tY2hlY2tib3g+XG5cbjxuZy1jb250ZW50IHNlbGVjdD1cIltub3ZvU3VmZml4XVwiPjwvbmctY29udGVudD5cbjwhLS0gU2VlIGExMXkgbm90ZXMgaW5zaWRlIG9wdGdyb3VwLnRzIGZvciBjb250ZXh0IGJlaGluZCB0aGlzIGVsZW1lbnQuIC0tPlxuPHNwYW4gY2xhc3M9XCJjZGstdmlzdWFsbHktaGlkZGVuXCIgKm5nSWY9XCJncm91cCAmJiBncm91cC5fbm92b0luZXJ0XCI+KHt7IGdyb3VwLmxhYmVsIH19KTwvc3Bhbj4iXX0=