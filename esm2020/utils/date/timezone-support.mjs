/**
 * Copyright Â© 2018-2022 Ferdinand Prantl
 * https://www.npmjs.com/package/timezone-support
 **/
const formattingToken = /(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?|DD?|d|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g;
const formatTokenFunctions = {};
const formatters = {};
export function formatZonedTime(time, format) {
    let formatter = formatters[format];
    if (!formatter) {
        formatter = formatters[format] = makeFormatter(format);
    }
    return formatter(time);
}
function makeFormatter(format) {
    const array = format.match(formattingToken);
    const { length } = array;
    for (let i = 0; i < length; ++i) {
        const token = array[i];
        const formatter = formatTokenFunctions[token];
        if (formatter) {
            array[i] = formatter;
        }
        else {
            array[i] = token.replace(/^\[|\]$/g, '');
        }
    }
    return function (time) {
        let output = '';
        for (const token of array) {
            output += typeof token === 'function' ? token.call(time) : token;
        }
        return output;
    };
}
const addFormatToken = function (token, padded, property) {
    const callback = typeof property === 'string' ? function () {
        return this[property];
    } : property;
    if (token) {
        formatTokenFunctions[token] = callback;
    }
    if (padded) {
        formatTokenFunctions[padded[0]] = function () {
            return padWithZeros(callback.call(this), padded[1]);
        };
    }
};
addFormatToken('A', 0, function () { return this.hours < 12 ? 'AM' : 'PM'; });
addFormatToken('a', 0, function () { return this.hours < 12 ? 'am' : 'pm'; });
addFormatToken('S', 0, function () { return Math.floor(this.milliseconds / 100); });
addFormatToken(0, ['SS', 2], function () { return Math.floor(this.milliseconds / 10); });
addFormatToken(0, ['SSS', 3], 'milliseconds');
addFormatToken('s', ['ss', 2], 'seconds');
addFormatToken('m', ['mm', 2], 'minutes');
addFormatToken('h', ['hh', 2], function () { return (this.hours % 12) || 12; });
addFormatToken('H', ['HH', 2], 'hours');
addFormatToken('d', 0, 'dayOfWeek');
addFormatToken('D', ['DD', 2], 'day');
addFormatToken('M', ['MM', 2], 'month');
addFormatToken(0, ['YY', 2], function () { return this.year % 100; });
addFormatToken('Y', ['YYYY', 4], 'year');
addFormatToken('z', 0, function () { return this.zone.abbreviation; });
function addTimeZoneFormatToken(token, separator) {
    addFormatToken(token, 0, function () {
        let offset = -this.zone.offset;
        const sign = offset < 0 ? '-' : '+';
        offset = Math.abs(offset);
        return sign + padWithZeros(Math.floor(offset / 60), 2) + separator + padWithZeros(offset % 60, 2);
    });
}
addTimeZoneFormatToken('Z', ':');
addTimeZoneFormatToken('ZZ', '');
const padToN = [undefined, undefined, padToTwo, padToThree, padToFour];
function padWithZeros(number, length) {
    return padToN[length](number);
}
function padToTwo(number) {
    return number > 9 ? number : '0' + number;
}
function padToThree(number) {
    return number > 99 ? number : number > 9 ? '0' + number : '00' + number;
}
function padToFour(number) {
    return number > 999 ? number : number > 99 ? '0' + number : number > 9 ? '00' + number : '000' + number;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZXpvbmUtc3VwcG9ydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25vdm8tZWxlbWVudHMvc3JjL3V0aWxzL2RhdGUvdGltZXpvbmUtc3VwcG9ydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0lBR0k7QUFFSixNQUFNLGVBQWUsR0FBRyxrRkFBa0YsQ0FBQztBQUMzRyxNQUFNLG9CQUFvQixHQUFHLEVBQUUsQ0FBQztBQUNoQyxNQUFNLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFFdEIsTUFBTSxVQUFVLGVBQWUsQ0FBQyxJQUFJLEVBQUUsTUFBTTtJQUMxQyxJQUFJLFNBQVMsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbkMsSUFBSSxDQUFDLFNBQVMsRUFBRTtRQUNkLFNBQVMsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDLEdBQUcsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQ3hEO0lBQ0QsT0FBTyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDekIsQ0FBQztBQUVELFNBQVMsYUFBYSxDQUFFLE1BQU07SUFDNUIsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUM1QyxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBQ3pCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7UUFDL0IsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLE1BQU0sU0FBUyxHQUFHLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzlDLElBQUksU0FBUyxFQUFFO1lBQ2IsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQztTQUN0QjthQUFNO1lBQ0wsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQzFDO0tBQ0Y7SUFDRCxPQUFPLFVBQVUsSUFBSTtRQUNuQixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDaEIsS0FBSyxNQUFNLEtBQUssSUFBSSxLQUFLLEVBQUU7WUFDekIsTUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1NBQ2xFO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQyxDQUFBO0FBQ0gsQ0FBQztBQUVELE1BQU0sY0FBYyxHQUFHLFVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRO0lBQ3RELE1BQU0sUUFBUSxHQUFHLE9BQU8sUUFBUSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDOUMsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDeEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7SUFDYixJQUFJLEtBQUssRUFBRTtRQUNULG9CQUFvQixDQUFDLEtBQUssQ0FBQyxHQUFHLFFBQVEsQ0FBQztLQUN4QztJQUNELElBQUksTUFBTSxFQUFFO1FBQ1Ysb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUc7WUFDaEMsT0FBTyxZQUFZLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RCxDQUFDLENBQUE7S0FDRjtBQUNILENBQUMsQ0FBQTtBQUVELGNBQWMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLGNBQWMsT0FBTyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM3RSxjQUFjLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxjQUFjLE9BQU8sSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDN0UsY0FBYyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsY0FBYyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ25GLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsY0FBYyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3hGLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDOUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUMxQyxjQUFjLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQzFDLGNBQWMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsY0FBYyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMvRSxjQUFjLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3hDLGNBQWMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQ3BDLGNBQWMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDdEMsY0FBYyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUN4QyxjQUFjLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLGNBQWMsT0FBTyxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3JFLGNBQWMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDekMsY0FBYyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsY0FBYyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFdEUsU0FBUyxzQkFBc0IsQ0FBRSxLQUFLLEVBQUUsU0FBUztJQUMvQyxjQUFjLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRTtRQUN2QixJQUFJLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQy9CLE1BQU0sSUFBSSxHQUFHLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1FBQ3BDLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFCLE9BQU8sSUFBSSxHQUFHLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxTQUFTLEdBQUcsWUFBWSxDQUFDLE1BQU0sR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDcEcsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQsc0JBQXNCLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ2pDLHNCQUFzQixDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztBQUVqQyxNQUFNLE1BQU0sR0FBRyxDQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRSxTQUFTLENBQUUsQ0FBQztBQUV6RSxTQUFTLFlBQVksQ0FBRSxNQUFNLEVBQUUsTUFBTTtJQUNuQyxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNoQyxDQUFDO0FBRUQsU0FBUyxRQUFRLENBQUUsTUFBTTtJQUN2QixPQUFPLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQztBQUM1QyxDQUFDO0FBRUQsU0FBUyxVQUFVLENBQUUsTUFBTTtJQUN6QixPQUFPLE1BQU0sR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQztBQUMxRSxDQUFDO0FBRUQsU0FBUyxTQUFTLENBQUUsTUFBTTtJQUN4QixPQUFPLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQztBQUMxRyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIFxuICogQ29weXJpZ2h0IMKpIDIwMTgtMjAyMiBGZXJkaW5hbmQgUHJhbnRsXG4gKiBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS90aW1lem9uZS1zdXBwb3J0XG4gKiovXG5cbmNvbnN0IGZvcm1hdHRpbmdUb2tlbiA9IC8oXFxbW15bXSpcXF0pfChbLTovLigpXFxzXSspfChBfGF8WVlZWXxZWT98TU0/fEREP3xkfGhoP3xISD98bW0/fHNzP3xTezEsM318enxaWj8pL2c7XG5jb25zdCBmb3JtYXRUb2tlbkZ1bmN0aW9ucyA9IHt9O1xuY29uc3QgZm9ybWF0dGVycyA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0Wm9uZWRUaW1lKHRpbWUsIGZvcm1hdCkge1xuICBsZXQgZm9ybWF0dGVyID0gZm9ybWF0dGVyc1tmb3JtYXRdO1xuICBpZiAoIWZvcm1hdHRlcikge1xuICAgIGZvcm1hdHRlciA9IGZvcm1hdHRlcnNbZm9ybWF0XSA9IG1ha2VGb3JtYXR0ZXIoZm9ybWF0KTtcbiAgfVxuICByZXR1cm4gZm9ybWF0dGVyKHRpbWUpO1xufVxuXG5mdW5jdGlvbiBtYWtlRm9ybWF0dGVyIChmb3JtYXQpIHtcbiAgY29uc3QgYXJyYXkgPSBmb3JtYXQubWF0Y2goZm9ybWF0dGluZ1Rva2VuKTtcbiAgY29uc3QgeyBsZW5ndGggfSA9IGFycmF5O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29uc3QgdG9rZW4gPSBhcnJheVtpXTtcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl07XG4gICAgaWYgKGZvcm1hdHRlcikge1xuICAgICAgYXJyYXlbaV0gPSBmb3JtYXR0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFycmF5W2ldID0gdG9rZW4ucmVwbGFjZSgvXlxcW3xcXF0kL2csICcnKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgbGV0IG91dHB1dCA9ICcnO1xuICAgIGZvciAoY29uc3QgdG9rZW4gb2YgYXJyYXkpIHtcbiAgICAgIG91dHB1dCArPSB0eXBlb2YgdG9rZW4gPT09ICdmdW5jdGlvbicgPyB0b2tlbi5jYWxsKHRpbWUpIDogdG9rZW47XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH1cbn1cblxuY29uc3QgYWRkRm9ybWF0VG9rZW4gPSBmdW5jdGlvbiAodG9rZW4sIHBhZGRlZCwgcHJvcGVydHkpIHtcbiAgY29uc3QgY2FsbGJhY2sgPSB0eXBlb2YgcHJvcGVydHkgPT09ICdzdHJpbmcnID8gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzW3Byb3BlcnR5XTtcbiAgfSA6IHByb3BlcnR5O1xuICBpZiAodG9rZW4pIHtcbiAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0gPSBjYWxsYmFjaztcbiAgfVxuICBpZiAocGFkZGVkKSB7XG4gICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwYWRXaXRoWmVyb3MoY2FsbGJhY2suY2FsbCh0aGlzKSwgcGFkZGVkWzFdKTtcbiAgICB9XG4gIH1cbn1cblxuYWRkRm9ybWF0VG9rZW4oJ0EnLCAwLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmhvdXJzIDwgMTIgPyAnQU0nIDogJ1BNJyB9KTtcbmFkZEZvcm1hdFRva2VuKCdhJywgMCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5ob3VycyA8IDEyID8gJ2FtJyA6ICdwbScgfSk7XG5hZGRGb3JtYXRUb2tlbignUycsIDAsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5taWxsaXNlY29uZHMgLyAxMDApIH0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTUycsIDJdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBNYXRoLmZsb29yKHRoaXMubWlsbGlzZWNvbmRzIC8gMTApIH0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1MnLCAzXSwgJ21pbGxpc2Vjb25kcycpO1xuYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sICdzZWNvbmRzJyk7XG5hZGRGb3JtYXRUb2tlbignbScsIFsnbW0nLCAyXSwgJ21pbnV0ZXMnKTtcbmFkZEZvcm1hdFRva2VuKCdoJywgWydoaCcsIDJdLCBmdW5jdGlvbiAoKSB7IHJldHVybiAodGhpcy5ob3VycyAlIDEyKSB8fCAxMiB9KTtcbmFkZEZvcm1hdFRva2VuKCdIJywgWydISCcsIDJdLCAnaG91cnMnKTtcbmFkZEZvcm1hdFRva2VuKCdkJywgMCwgJ2RheU9mV2VlaycpO1xuYWRkRm9ybWF0VG9rZW4oJ0QnLCBbJ0REJywgMl0sICdkYXknKTtcbmFkZEZvcm1hdFRva2VuKCdNJywgWydNTScsIDJdLCAnbW9udGgnKTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnWVknLCAyXSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy55ZWFyICUgMTAwIH0pO1xuYWRkRm9ybWF0VG9rZW4oJ1knLCBbJ1lZWVknLCA0XSwgJ3llYXInKTtcbmFkZEZvcm1hdFRva2VuKCd6JywgMCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy56b25lLmFiYnJldmlhdGlvbiB9KTtcblxuZnVuY3Rpb24gYWRkVGltZVpvbmVGb3JtYXRUb2tlbiAodG9rZW4sIHNlcGFyYXRvcikge1xuICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgZnVuY3Rpb24gKCkge1xuICAgIGxldCBvZmZzZXQgPSAtdGhpcy56b25lLm9mZnNldDtcbiAgICBjb25zdCBzaWduID0gb2Zmc2V0IDwgMCA/ICctJyA6ICcrJztcbiAgICBvZmZzZXQgPSBNYXRoLmFicyhvZmZzZXQpO1xuICAgIHJldHVybiBzaWduICsgcGFkV2l0aFplcm9zKE1hdGguZmxvb3Iob2Zmc2V0IC8gNjApLCAyKSArIHNlcGFyYXRvciArIHBhZFdpdGhaZXJvcyhvZmZzZXQgJSA2MCwgMik7XG4gIH0pO1xufVxuXG5hZGRUaW1lWm9uZUZvcm1hdFRva2VuKCdaJywgJzonKTtcbmFkZFRpbWVab25lRm9ybWF0VG9rZW4oJ1paJywgJycpO1xuXG5jb25zdCBwYWRUb04gPSBbIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBwYWRUb1R3bywgcGFkVG9UaHJlZSwgcGFkVG9Gb3VyIF07XG5cbmZ1bmN0aW9uIHBhZFdpdGhaZXJvcyAobnVtYmVyLCBsZW5ndGgpIHtcbiAgcmV0dXJuIHBhZFRvTltsZW5ndGhdKG51bWJlcik7XG59XG5cbmZ1bmN0aW9uIHBhZFRvVHdvIChudW1iZXIpIHtcbiAgcmV0dXJuIG51bWJlciA+IDkgPyBudW1iZXIgOiAnMCcgKyBudW1iZXI7XG59XG5cbmZ1bmN0aW9uIHBhZFRvVGhyZWUgKG51bWJlcikge1xuICByZXR1cm4gbnVtYmVyID4gOTkgPyBudW1iZXIgOiBudW1iZXIgPiA5ID8gJzAnICsgbnVtYmVyIDogJzAwJyArIG51bWJlcjtcbn1cblxuZnVuY3Rpb24gcGFkVG9Gb3VyIChudW1iZXIpIHtcbiAgcmV0dXJuIG51bWJlciA+IDk5OSA/IG51bWJlciA6IG51bWJlciA+IDk5ID8gJzAnICsgbnVtYmVyIDogbnVtYmVyID4gOSA/ICcwMCcgKyBudW1iZXIgOiAnMDAwJyArIG51bWJlcjtcbn1cbiJdfQ==