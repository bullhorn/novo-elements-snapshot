var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// NG2
import { ChangeDetectorRef, Component, EventEmitter, forwardRef, HostBinding, Input, NgZone, Output } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { BooleanInput } from 'novo-elements/utils';
import * as i0 from "@angular/core";
import * as i1 from "novo-elements/components/icon";
import * as i2 from "@angular/common";
// Value accessor for the component (supports ngModel)
const SWITCH_VALUE_ACCESSOR = {
    provide: NG_VALUE_ACCESSOR,
    useExisting: forwardRef(() => NovoSwitchElement),
    multi: true,
};
export class NovoSwitchElement {
    constructor(ref, ngZone) {
        this.ref = ref;
        this.ngZone = ngZone;
        this.icons = ['x', 'check'];
        this.disabled = false;
        this.onChange = new EventEmitter();
        this.onModelChange = () => { };
        this.onModelTouched = () => { };
    }
    get value() {
        return this._value;
    }
    set value(value) {
        this._value = value;
    }
    onKeydown(event) {
        if (event.key === " " /* Space */) {
            event.preventDefault();
            this.toggle(event);
        }
    }
    toggle(event) {
        if (event) {
            event.stopPropagation();
            event.preventDefault();
        }
        if (this.disabled) {
            return;
        }
        this.ngZone.run(() => {
            this.value = !this.value;
            this.onModelChange(this.value);
            this.onChange.next(this.value);
            this.ref.markForCheck();
        });
    }
    writeValue(model) {
        this.value = model;
        this.ref.markForCheck();
    }
    registerOnChange(fn) {
        this.onModelChange = fn;
    }
    registerOnTouched(fn) {
        this.onModelTouched = fn;
    }
}
NovoSwitchElement.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: NovoSwitchElement, deps: [{ token: i0.ChangeDetectorRef }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });
NovoSwitchElement.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.11", type: NovoSwitchElement, selector: "novo-switch", inputs: { icons: "icons", disabled: "disabled" }, outputs: { onChange: "onChange" }, host: { attributes: { "role": "switch" }, listeners: { "keydown": "onKeydown($event)" }, properties: { "attr.aria-checked": "value", "attr.aria-disabled": "disabled", "class.novo-switch-disabled": "this.disabled" }, classAttribute: "novo-switch" }, providers: [SWITCH_VALUE_ACCESSOR], ngImport: i0, template: `
    <div (click)="toggle($event)">
      <div class="novo-switch-label novo-switch-prefix"><ng-content select="[novoPrefix]"></ng-content></div>
      <div class="novo-switch-container">
        <div class="novo-switch-bar"></div>
        <div class="novo-switch-thumb-container">
          <div class="novo-switch-thumb">
            <novo-icon *ngIf="!value" smaller>{{ icons[0] }}</novo-icon>
            <novo-icon *ngIf="value" smaller>{{ icons[1] }}</novo-icon>
          </div>
        </div>
      </div>
      <div class="novo-switch-label novo-switch-suffix"><ng-content></ng-content></div>
    </div>
  `, isInline: true, styles: [":host{gap:var(--switch-spacing);height:var(--switch-height);display:flex;align-items:center;white-space:nowrap;cursor:pointer;outline:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;box-sizing:border-box;transition:all .5s cubic-bezier(.35,0,.25,1)}:host>div{display:flex;align-items:center}:host .novo-switch-container{cursor:-webkit-grab;cursor:grab;width:calc(var(--switch-height) * 1.5);height:var(--switch-height);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;margin:0 8px}:host:not(.novo-switch-disabled).novo-switch-dragging .novo-switch-container,:host:not(.novo-switch-disabled) .novo-switch-dragging{cursor:-webkit-grabbing;cursor:grabbing}:host .novo-switch-label{border:0 transparent}:host .novo-switch-bar{background-color:var(--switch-track-color-background);height:calc(var(--switch-height) * .5);width:calc(var(--switch-height) * 1.5 - 2px);top:calc(var(--switch-height) / 2 - var(--switch-height) * .5 / 2);left:1px;border-radius:var(--switch-border-radius);position:absolute}:host .novo-switch-thumb-container{top:calc(var(--switch-height) / 2 - (var(--switch-height) - var(--switch-border-width) * 2) / 2);width:calc(var(--switch-height) * 1.5 - (var(--switch-height) - var(--switch-border-width) * 2));left:0;position:absolute;transform:translateZ(0);z-index:z(default)}:host .novo-switch-thumb{background-color:var(--switch-thumb-color-background);color:var(--switch-icon-color-text);box-shadow:var(--shadow-z1);height:calc(var(--switch-height) - var(--switch-border-width) * 2);width:calc(var(--switch-height) - var(--switch-border-width) * 2);border-radius:var(--switch-border-radius);position:absolute;display:flex;align-items:center;justify-content:center;margin:0;left:0;top:0;outline:none}:host .novo-switch-thumb .novo-icon{color:inherit}:host:not(.novo-switch-dragging) .novo-switch-bar,:host:not(.novo-switch-dragging) .novo-switch-thumb,:host:not(.novo-switch-dragging) .novo-switch-thumb-container{transition:all .5s cubic-bezier(.35,0,.25,1);transition-property:transform,background-color,color}:host:not(.novo-switch-dragging) .novo-switch-bar,:host:not(.novo-switch-dragging) .novo-switch-thumb{transition-delay:.05s}:host.novo-switch-disabled{opacity:.5;cursor:not-allowed}:host.novo-switch-disabled .novo-switch-container{cursor:not-allowed;pointer-events:none}:host[aria-checked=true]{--switch-track-color-background: var(--switch-track-color-selected);--switch-thumb-color-background: var(--switch-thumb-color-selected);--switch-icon-color-text: var(--switch-icon-color-selected)}:host[aria-checked=true] .novo-switch-thumb-container{transform:translate3d(100%,0,0)}:host[aria-checked=true].novo-theme-selection{--switch-track-color-background: var(--color-selection-overlay);--switch-thumb-color-background: var(--color-selection);--switch-icon-color-text: var(--color-selection-contrast)}:host[aria-checked=true].novo-theme-positive{--switch-track-color-background: var(--color-positive-overlay);--switch-thumb-color-background: var(--color-positive);--switch-icon-color-text: var(--color-positive-contrast)}:host[aria-checked=true].novo-theme-success{--switch-track-color-background: var(--color-success-overlay);--switch-thumb-color-background: var(--color-success);--switch-icon-color-text: var(--color-success-contrast)}:host[aria-checked=true].novo-theme-warning{--switch-track-color-background: var(--color-warning-overlay);--switch-thumb-color-background: var(--color-warning);--switch-icon-color-text: var(--color-warning-contrast)}:host[aria-checked=true].novo-theme-error{--switch-track-color-background: var(--color-error-overlay);--switch-thumb-color-background: var(--color-error);--switch-icon-color-text: var(--color-error-contrast)}:host[aria-checked=true].novo-theme-info{--switch-track-color-background: var(--color-info-overlay);--switch-thumb-color-background: var(--color-info);--switch-icon-color-text: var(--color-info-contrast)}:host[aria-checked=true].novo-theme-disabled{--switch-track-color-background: var(--color-disabled-overlay);--switch-thumb-color-background: var(--color-disabled);--switch-icon-color-text: var(--color-disabled-contrast)}:host[aria-checked=true].novo-theme-red{--switch-track-color-background: var(--palette-red-98);--switch-thumb-color-background: var(--palette-red-50);--switch-icon-color-text: var(--palette-red-50-contrast)}:host[aria-checked=true].novo-theme-pink{--switch-track-color-background: var(--palette-pink-98);--switch-thumb-color-background: var(--palette-pink-50);--switch-icon-color-text: var(--palette-pink-50-contrast)}:host[aria-checked=true].novo-theme-orange{--switch-track-color-background: var(--palette-orange-98);--switch-thumb-color-background: var(--palette-orange-50);--switch-icon-color-text: var(--palette-orange-50-contrast)}:host[aria-checked=true].novo-theme-yellow{--switch-track-color-background: var(--palette-yellow-98);--switch-thumb-color-background: var(--palette-yellow-50);--switch-icon-color-text: var(--palette-yellow-50-contrast)}:host[aria-checked=true].novo-theme-green{--switch-track-color-background: var(--palette-green-98);--switch-thumb-color-background: var(--palette-green-50);--switch-icon-color-text: var(--palette-green-50-contrast)}:host[aria-checked=true].novo-theme-teal{--switch-track-color-background: var(--palette-teal-98);--switch-thumb-color-background: var(--palette-teal-50);--switch-icon-color-text: var(--palette-teal-50-contrast)}:host[aria-checked=true].novo-theme-blue{--switch-track-color-background: var(--palette-blue-98);--switch-thumb-color-background: var(--palette-blue-50);--switch-icon-color-text: var(--palette-blue-50-contrast)}:host[aria-checked=true].novo-theme-aqua{--switch-track-color-background: var(--palette-aqua-98);--switch-thumb-color-background: var(--palette-aqua-50);--switch-icon-color-text: var(--palette-aqua-50-contrast)}:host[aria-checked=true].novo-theme-indigo{--switch-track-color-background: var(--palette-indigo-98);--switch-thumb-color-background: var(--palette-indigo-50);--switch-icon-color-text: var(--palette-indigo-50-contrast)}:host[aria-checked=true].novo-theme-violet{--switch-track-color-background: var(--palette-violet-98);--switch-thumb-color-background: var(--palette-violet-50);--switch-icon-color-text: var(--palette-violet-50-contrast)}:host[aria-checked=true].novo-theme-gray{--switch-track-color-background: var(--palette-gray-98);--switch-thumb-color-background: var(--palette-gray-50);--switch-icon-color-text: var(--palette-gray-50-contrast)}:host:focus .novo-switch-label:not(:empty){border:1px dotted var()}\n"], components: [{ type: i1.NovoIconComponent, selector: "novo-icon", inputs: ["raised", "theme", "shape", "color", "size", "smaller", "larger", "alt", "name"] }], directives: [{ type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] });
__decorate([
    BooleanInput(),
    __metadata("design:type", Boolean)
], NovoSwitchElement.prototype, "disabled", void 0);
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: NovoSwitchElement, decorators: [{
            type: Component,
            args: [{ selector: 'novo-switch', providers: [SWITCH_VALUE_ACCESSOR], template: `
    <div (click)="toggle($event)">
      <div class="novo-switch-label novo-switch-prefix"><ng-content select="[novoPrefix]"></ng-content></div>
      <div class="novo-switch-container">
        <div class="novo-switch-bar"></div>
        <div class="novo-switch-thumb-container">
          <div class="novo-switch-thumb">
            <novo-icon *ngIf="!value" smaller>{{ icons[0] }}</novo-icon>
            <novo-icon *ngIf="value" smaller>{{ icons[1] }}</novo-icon>
          </div>
        </div>
      </div>
      <div class="novo-switch-label novo-switch-suffix"><ng-content></ng-content></div>
    </div>
  `, host: {
                        role: 'switch',
                        class: 'novo-switch',
                        '[attr.aria-checked]': 'value',
                        '[attr.aria-disabled]': 'disabled',
                        '(keydown)': 'onKeydown($event)',
                    }, styles: [":host{gap:var(--switch-spacing);height:var(--switch-height);display:flex;align-items:center;white-space:nowrap;cursor:pointer;outline:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;box-sizing:border-box;transition:all .5s cubic-bezier(.35,0,.25,1)}:host>div{display:flex;align-items:center}:host .novo-switch-container{cursor:-webkit-grab;cursor:grab;width:calc(var(--switch-height) * 1.5);height:var(--switch-height);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;margin:0 8px}:host:not(.novo-switch-disabled).novo-switch-dragging .novo-switch-container,:host:not(.novo-switch-disabled) .novo-switch-dragging{cursor:-webkit-grabbing;cursor:grabbing}:host .novo-switch-label{border:0 transparent}:host .novo-switch-bar{background-color:var(--switch-track-color-background);height:calc(var(--switch-height) * .5);width:calc(var(--switch-height) * 1.5 - 2px);top:calc(var(--switch-height) / 2 - var(--switch-height) * .5 / 2);left:1px;border-radius:var(--switch-border-radius);position:absolute}:host .novo-switch-thumb-container{top:calc(var(--switch-height) / 2 - (var(--switch-height) - var(--switch-border-width) * 2) / 2);width:calc(var(--switch-height) * 1.5 - (var(--switch-height) - var(--switch-border-width) * 2));left:0;position:absolute;transform:translateZ(0);z-index:z(default)}:host .novo-switch-thumb{background-color:var(--switch-thumb-color-background);color:var(--switch-icon-color-text);box-shadow:var(--shadow-z1);height:calc(var(--switch-height) - var(--switch-border-width) * 2);width:calc(var(--switch-height) - var(--switch-border-width) * 2);border-radius:var(--switch-border-radius);position:absolute;display:flex;align-items:center;justify-content:center;margin:0;left:0;top:0;outline:none}:host .novo-switch-thumb .novo-icon{color:inherit}:host:not(.novo-switch-dragging) .novo-switch-bar,:host:not(.novo-switch-dragging) .novo-switch-thumb,:host:not(.novo-switch-dragging) .novo-switch-thumb-container{transition:all .5s cubic-bezier(.35,0,.25,1);transition-property:transform,background-color,color}:host:not(.novo-switch-dragging) .novo-switch-bar,:host:not(.novo-switch-dragging) .novo-switch-thumb{transition-delay:.05s}:host.novo-switch-disabled{opacity:.5;cursor:not-allowed}:host.novo-switch-disabled .novo-switch-container{cursor:not-allowed;pointer-events:none}:host[aria-checked=true]{--switch-track-color-background: var(--switch-track-color-selected);--switch-thumb-color-background: var(--switch-thumb-color-selected);--switch-icon-color-text: var(--switch-icon-color-selected)}:host[aria-checked=true] .novo-switch-thumb-container{transform:translate3d(100%,0,0)}:host[aria-checked=true].novo-theme-selection{--switch-track-color-background: var(--color-selection-overlay);--switch-thumb-color-background: var(--color-selection);--switch-icon-color-text: var(--color-selection-contrast)}:host[aria-checked=true].novo-theme-positive{--switch-track-color-background: var(--color-positive-overlay);--switch-thumb-color-background: var(--color-positive);--switch-icon-color-text: var(--color-positive-contrast)}:host[aria-checked=true].novo-theme-success{--switch-track-color-background: var(--color-success-overlay);--switch-thumb-color-background: var(--color-success);--switch-icon-color-text: var(--color-success-contrast)}:host[aria-checked=true].novo-theme-warning{--switch-track-color-background: var(--color-warning-overlay);--switch-thumb-color-background: var(--color-warning);--switch-icon-color-text: var(--color-warning-contrast)}:host[aria-checked=true].novo-theme-error{--switch-track-color-background: var(--color-error-overlay);--switch-thumb-color-background: var(--color-error);--switch-icon-color-text: var(--color-error-contrast)}:host[aria-checked=true].novo-theme-info{--switch-track-color-background: var(--color-info-overlay);--switch-thumb-color-background: var(--color-info);--switch-icon-color-text: var(--color-info-contrast)}:host[aria-checked=true].novo-theme-disabled{--switch-track-color-background: var(--color-disabled-overlay);--switch-thumb-color-background: var(--color-disabled);--switch-icon-color-text: var(--color-disabled-contrast)}:host[aria-checked=true].novo-theme-red{--switch-track-color-background: var(--palette-red-98);--switch-thumb-color-background: var(--palette-red-50);--switch-icon-color-text: var(--palette-red-50-contrast)}:host[aria-checked=true].novo-theme-pink{--switch-track-color-background: var(--palette-pink-98);--switch-thumb-color-background: var(--palette-pink-50);--switch-icon-color-text: var(--palette-pink-50-contrast)}:host[aria-checked=true].novo-theme-orange{--switch-track-color-background: var(--palette-orange-98);--switch-thumb-color-background: var(--palette-orange-50);--switch-icon-color-text: var(--palette-orange-50-contrast)}:host[aria-checked=true].novo-theme-yellow{--switch-track-color-background: var(--palette-yellow-98);--switch-thumb-color-background: var(--palette-yellow-50);--switch-icon-color-text: var(--palette-yellow-50-contrast)}:host[aria-checked=true].novo-theme-green{--switch-track-color-background: var(--palette-green-98);--switch-thumb-color-background: var(--palette-green-50);--switch-icon-color-text: var(--palette-green-50-contrast)}:host[aria-checked=true].novo-theme-teal{--switch-track-color-background: var(--palette-teal-98);--switch-thumb-color-background: var(--palette-teal-50);--switch-icon-color-text: var(--palette-teal-50-contrast)}:host[aria-checked=true].novo-theme-blue{--switch-track-color-background: var(--palette-blue-98);--switch-thumb-color-background: var(--palette-blue-50);--switch-icon-color-text: var(--palette-blue-50-contrast)}:host[aria-checked=true].novo-theme-aqua{--switch-track-color-background: var(--palette-aqua-98);--switch-thumb-color-background: var(--palette-aqua-50);--switch-icon-color-text: var(--palette-aqua-50-contrast)}:host[aria-checked=true].novo-theme-indigo{--switch-track-color-background: var(--palette-indigo-98);--switch-thumb-color-background: var(--palette-indigo-50);--switch-icon-color-text: var(--palette-indigo-50-contrast)}:host[aria-checked=true].novo-theme-violet{--switch-track-color-background: var(--palette-violet-98);--switch-thumb-color-background: var(--palette-violet-50);--switch-icon-color-text: var(--palette-violet-50-contrast)}:host[aria-checked=true].novo-theme-gray{--switch-track-color-background: var(--palette-gray-98);--switch-thumb-color-background: var(--palette-gray-50);--switch-icon-color-text: var(--palette-gray-50-contrast)}:host:focus .novo-switch-label:not(:empty){border:1px dotted var()}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: i0.NgZone }]; }, propDecorators: { icons: [{
                type: Input
            }], disabled: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['class.novo-switch-disabled']
            }], onChange: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dpdGNoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvZWxlbWVudHMvY29tcG9uZW50cy9zd2l0Y2gvc3dpdGNoLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLE1BQU07QUFDTixPQUFPLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNILE9BQU8sRUFBd0IsaUJBQWlCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN6RSxPQUFPLEVBQUUsWUFBWSxFQUFPLE1BQU0scUJBQXFCLENBQUM7Ozs7QUFFeEQsc0RBQXNEO0FBQ3RELE1BQU0scUJBQXFCLEdBQUc7SUFDNUIsT0FBTyxFQUFFLGlCQUFpQjtJQUMxQixXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDO0lBQ2hELEtBQUssRUFBRSxJQUFJO0NBQ1osQ0FBQztBQTZCRixNQUFNLE9BQU8saUJBQWlCO0lBc0I1QixZQUFvQixHQUFzQixFQUFVLE1BQWM7UUFBOUMsUUFBRyxHQUFILEdBQUcsQ0FBbUI7UUFBVSxXQUFNLEdBQU4sTUFBTSxDQUFRO1FBcEJsRSxVQUFLLEdBQXFCLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBS3pDLGFBQVEsR0FBWSxLQUFLLENBQUM7UUFHMUIsYUFBUSxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBU2pELGtCQUFhLEdBQWEsR0FBRyxFQUFFLEdBQUUsQ0FBQyxDQUFDO1FBQ25DLG1CQUFjLEdBQWEsR0FBRyxFQUFFLEdBQUUsQ0FBQyxDQUFDO0lBRWlDLENBQUM7SUFUdEUsSUFBVyxLQUFLO1FBQ2QsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7SUFDRCxJQUFXLEtBQUssQ0FBQyxLQUFjO1FBQzdCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQ3RCLENBQUM7SUFNRCxTQUFTLENBQUMsS0FBb0I7UUFDNUIsSUFBSSxLQUFLLENBQUMsR0FBRyxvQkFBYyxFQUFFO1lBQzNCLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUN2QixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3BCO0lBQ0gsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFLO1FBQ1YsSUFBSSxLQUFLLEVBQUU7WUFDVCxLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDeEIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1NBQ3hCO1FBRUQsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2pCLE9BQU87U0FDUjtRQUNELElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRTtZQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN6QixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMvQixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDL0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUMxQixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBYztRQUN2QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxFQUFZO1FBQzNCLElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxFQUFZO1FBQzVCLElBQUksQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO0lBQzNCLENBQUM7OytHQTNEVSxpQkFBaUI7bUdBQWpCLGlCQUFpQixvWEF4QmpCLENBQUMscUJBQXFCLENBQUMsMEJBQ3hCOzs7Ozs7Ozs7Ozs7OztHQWNUO0FBZ0JEO0lBRkMsWUFBWSxFQUFFOzttREFFVzs0RkFQZixpQkFBaUI7a0JBM0I3QixTQUFTOytCQUNFLGFBQWEsYUFFWixDQUFDLHFCQUFxQixDQUFDLFlBQ3hCOzs7Ozs7Ozs7Ozs7OztHQWNULFFBQ0s7d0JBQ0osSUFBSSxFQUFFLFFBQVE7d0JBQ2QsS0FBSyxFQUFFLGFBQWE7d0JBQ3BCLHFCQUFxQixFQUFFLE9BQU87d0JBQzlCLHNCQUFzQixFQUFFLFVBQVU7d0JBQ2xDLFdBQVcsRUFBRSxtQkFBbUI7cUJBQ2pDOzZIQUlELEtBQUs7c0JBREosS0FBSztnQkFNTixRQUFRO3NCQUhQLEtBQUs7O3NCQUVMLFdBQVc7dUJBQUMsNEJBQTRCO2dCQUl6QyxRQUFRO3NCQURQLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBORzJcbmltcG9ydCB7IENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgZm9yd2FyZFJlZiwgSG9zdEJpbmRpbmcsIElucHV0LCBOZ1pvbmUsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29udHJvbFZhbHVlQWNjZXNzb3IsIE5HX1ZBTFVFX0FDQ0VTU09SIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgQm9vbGVhbklucHV0LCBLZXkgfSBmcm9tICdub3ZvLWVsZW1lbnRzL3V0aWxzJztcblxuLy8gVmFsdWUgYWNjZXNzb3IgZm9yIHRoZSBjb21wb25lbnQgKHN1cHBvcnRzIG5nTW9kZWwpXG5jb25zdCBTV0lUQ0hfVkFMVUVfQUNDRVNTT1IgPSB7XG4gIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBOb3ZvU3dpdGNoRWxlbWVudCksXG4gIG11bHRpOiB0cnVlLFxufTtcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbm92by1zd2l0Y2gnLFxuICBzdHlsZVVybHM6IFsnLi9zd2l0Y2guc2NzcyddLFxuICBwcm92aWRlcnM6IFtTV0lUQ0hfVkFMVUVfQUNDRVNTT1JdLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxkaXYgKGNsaWNrKT1cInRvZ2dsZSgkZXZlbnQpXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibm92by1zd2l0Y2gtbGFiZWwgbm92by1zd2l0Y2gtcHJlZml4XCI+PG5nLWNvbnRlbnQgc2VsZWN0PVwiW25vdm9QcmVmaXhdXCI+PC9uZy1jb250ZW50PjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5vdm8tc3dpdGNoLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibm92by1zd2l0Y2gtYmFyXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub3ZvLXN3aXRjaC10aHVtYi1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibm92by1zd2l0Y2gtdGh1bWJcIj5cbiAgICAgICAgICAgIDxub3ZvLWljb24gKm5nSWY9XCIhdmFsdWVcIiBzbWFsbGVyPnt7IGljb25zWzBdIH19PC9ub3ZvLWljb24+XG4gICAgICAgICAgICA8bm92by1pY29uICpuZ0lmPVwidmFsdWVcIiBzbWFsbGVyPnt7IGljb25zWzFdIH19PC9ub3ZvLWljb24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibm92by1zd2l0Y2gtbGFiZWwgbm92by1zd2l0Y2gtc3VmZml4XCI+PG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PjwvZGl2PlxuICAgIDwvZGl2PlxuICBgLFxuICBob3N0OiB7XG4gICAgcm9sZTogJ3N3aXRjaCcsXG4gICAgY2xhc3M6ICdub3ZvLXN3aXRjaCcsXG4gICAgJ1thdHRyLmFyaWEtY2hlY2tlZF0nOiAndmFsdWUnLFxuICAgICdbYXR0ci5hcmlhLWRpc2FibGVkXSc6ICdkaXNhYmxlZCcsXG4gICAgJyhrZXlkb3duKSc6ICdvbktleWRvd24oJGV2ZW50KScsXG4gIH0sXG59KVxuZXhwb3J0IGNsYXNzIE5vdm9Td2l0Y2hFbGVtZW50IGltcGxlbWVudHMgQ29udHJvbFZhbHVlQWNjZXNzb3Ige1xuICBASW5wdXQoKVxuICBpY29uczogW3N0cmluZywgc3RyaW5nXSA9IFsneCcsICdjaGVjayddO1xuXG4gIEBJbnB1dCgpXG4gIEBCb29sZWFuSW5wdXQoKVxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLm5vdm8tc3dpdGNoLWRpc2FibGVkJylcbiAgZGlzYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBAT3V0cHV0KClcbiAgb25DaGFuZ2U6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIHByaXZhdGUgX3ZhbHVlOiBib29sZWFuO1xuICBwdWJsaWMgZ2V0IHZhbHVlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxuICBwdWJsaWMgc2V0IHZhbHVlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgfVxuICBvbk1vZGVsQ2hhbmdlOiBGdW5jdGlvbiA9ICgpID0+IHt9O1xuICBvbk1vZGVsVG91Y2hlZDogRnVuY3Rpb24gPSAoKSA9PiB7fTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgbmdab25lOiBOZ1pvbmUpIHt9XG5cbiAgb25LZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gS2V5LlNwYWNlKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy50b2dnbGUoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZShldmVudCkge1xuICAgIGlmIChldmVudCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiB7XG4gICAgICB0aGlzLnZhbHVlID0gIXRoaXMudmFsdWU7XG4gICAgICB0aGlzLm9uTW9kZWxDaGFuZ2UodGhpcy52YWx1ZSk7XG4gICAgICB0aGlzLm9uQ2hhbmdlLm5leHQodGhpcy52YWx1ZSk7XG4gICAgICB0aGlzLnJlZi5tYXJrRm9yQ2hlY2soKTtcbiAgICB9KTtcbiAgfVxuXG4gIHdyaXRlVmFsdWUobW9kZWw6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLnZhbHVlID0gbW9kZWw7XG4gICAgdGhpcy5yZWYubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiBGdW5jdGlvbik6IHZvaWQge1xuICAgIHRoaXMub25Nb2RlbENoYW5nZSA9IGZuO1xuICB9XG5cbiAgcmVnaXN0ZXJPblRvdWNoZWQoZm46IEZ1bmN0aW9uKTogdm9pZCB7XG4gICAgdGhpcy5vbk1vZGVsVG91Y2hlZCA9IGZuO1xuICB9XG59XG4iXX0=